/*

 FullCalendar v1.5.2
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Fri Dec 23 13:55:54 2011 +0100

*/
(function(n,na){function wb(a){n.extend(true,Ya,a)}function Yb(a,b,e){function c(k){if(B){u();q();oa();R(k)}else f()}function f(){z=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");B=n("<div class='fc-content' style='position:relative'/>").prependTo(a);F=new Zb(x,b);(O=F.render())&&a.prepend(O);A(b.defaultView);n(window).resize(pa);t()||g()}function g(){setTimeout(function(){!l.start&&t()&&R()},0)}function m(){n(window).unbind("resize",pa);F.destroy();
B.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return i.offsetWidth!==0}function t(){return n("body")[0].offsetWidth!==0}function A(k){if(!l||k!=l.name){G++;qa();var E=l,Z;if(E){(E.beforeHide||xb)();Za(B,B.height());E.element.hide()}else Za(B,1);B.css("overflow","hidden");if(l=X[k])l.element.show();else l=X[k]=new Ja[k](Z=s=n("<div class='fc-view fc-view-"+k+"' style='position:absolute'/>").appendTo(B),x);E&&F.deactivateButton(E.name);F.activateButton(k);R();B.css("overflow","");E&&
Za(B,1);Z||(l.afterShow||xb)();G--}}function R(k){if(j()){G++;qa();p===na&&u();var E=false;if(!l.start||k||r<l.start||r>=l.end){l.render(r,k||0);ga(true);E=true}else if(l.sizeDirty){l.clearEvents();ga();E=true}else if(l.eventsDirty){l.clearEvents();E=true}l.sizeDirty=false;l.eventsDirty=false;ha(E);W=a.outerWidth();F.updateTitle(l.title);k=new Date;k>=l.start&&k<l.end?F.disableButton("today"):F.enableButton("today");G--;l.trigger("viewDisplay",i)}}function P(){q();if(j()){u();ga();qa();l.clearEvents();
l.renderEvents(K);l.sizeDirty=false}}function q(){n.each(X,function(k,E){E.sizeDirty=true})}function u(){p=b.contentHeight?b.contentHeight:b.height?b.height-(O?O.height():0)-Sa(B):Math.round(B.width()/Math.max(b.aspectRatio,0.5))}function ga(k){G++;l.setHeight(p,k);if(s){s.css("position","relative");s=null}l.setWidth(B.width(),k);G--}function pa(){if(!G)if(l.start){var k=++v;setTimeout(function(){if(k==v&&!G&&j())if(W!=(W=a.outerWidth())){G++;P();l.trigger("windowResize",i);G--}},200)}else g()}function ha(k){if(!b.lazyFetching||
$(l.visStart,l.visEnd))ra();else k&&ea()}function ra(){C(l.visStart,l.visEnd)}function ta(k){K=k;ea()}function ia(k){ea(k)}function ea(k){oa();if(j()){l.clearEvents();l.renderEvents(K,k);l.eventsDirty=false}}function oa(){n.each(X,function(k,E){E.eventsDirty=true})}function va(k,E,Z){l.select(k,E,Z===na?true:Z)}function qa(){l&&l.unselect()}function S(){R(-1)}function da(){R(1)}function la(){gb(r,-1);R()}function sa(){gb(r,1);R()}function I(){r=new Date;R()}function o(k,E,Z){if(k instanceof Date)r=
M(k);else yb(r,k,E,Z);R()}function V(k,E,Z){k!==na&&gb(r,k);E!==na&&hb(r,E);Z!==na&&ca(r,Z);R()}function Y(){return M(r)}function T(){return l}function d(k,E){if(E===na)return b[k];if(k=="height"||k=="contentHeight"||k=="aspectRatio"){b[k]=E;P()}}function H(k,E){if(b[k])return b[k].apply(E||i,Array.prototype.slice.call(arguments,2))}var x=this;x.options=b;x.render=c;x.destroy=m;x.refetchEvents=ra;x.reportEvents=ta;x.reportEventChange=ia;x.rerenderEvents=ea;x.changeView=A;x.select=va;x.unselect=qa;
x.prev=S;x.next=da;x.prevYear=la;x.nextYear=sa;x.today=I;x.gotoDate=o;x.incrementDate=V;x.formatDate=function(k,E){return Oa(k,E,b)};x.formatDates=function(k,E,Z){return ib(k,E,Z,b)};x.getDate=Y;x.getView=T;x.option=d;x.trigger=H;$b.call(x,b,e);var $=x.isFetchNeeded,C=x.fetchEvents,i=a[0],F,O,B,z,l,X={},W,p,s,v=0,G=0,r=new Date,K=[],L;yb(r,b.year,b.month,b.date);b.droppable&&n(document).bind("dragstart",function(k,E){var Z=k.target,ka=n(Z);if(!ka.parents(".fc").length){var ja=b.dropAccept;if(n.isFunction(ja)?
ja.call(Z,ka):ka.is(ja)){L=Z;l.dragStart(L,k,E)}}}).bind("dragstop",function(k,E){if(L){l.dragStop(L,k,E);L=null}})}function Zb(a,b){function e(){q=b.theme?"ui":"fc";if(b.header)return P=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function c(){P.remove()}function f(u){var ga=n("<td class='fc-header-"+u+"'/>");(u=b.header[u])&&n.each(u.split(" "),function(pa){pa>0&&ga.append("<span class='fc-header-space'/>");var ha;
n.each(this.split(","),function(ra,ta){if(ta=="title"){ga.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ha&&ha.addClass(q+"-corner-right");ha=null}else{var ia;if(a[ta])ia=a[ta];else if(Ja[ta])ia=function(){oa.removeClass(q+"-state-hover");a.changeView(ta)};if(ia){ra=b.theme?jb(b.buttonIcons,ta):null;var ea=jb(b.buttonText,ta),oa=n("<span class='fc-button "+(q=="ui"?"ui-button":"")+" fc-button-"+ta+" "+q+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+
(ra?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+ra+"'/></span>":ea)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(oa){oa.click(function(){oa.hasClass(q+"-state-disabled")||ia()}).mousedown(function(){oa.not("."+q+"-state-active").not("."+q+"-state-disabled").addClass(q+"-state-down")}).mouseup(function(){oa.removeClass(q+"-state-down")}).hover(function(){oa.not("."+q+"-state-active").not("."+q+"-state-disabled").addClass(q+"-state-hover")},function(){oa.removeClass(q+
"-state-hover").removeClass(q+"-state-down")}).appendTo(ga);ha||oa.addClass(q+"-corner-left");ha=oa}}}});ha&&ha.addClass(q+"-corner-right")});return ga}function g(u){P.find("h2").html(u)}function m(u){P.find("span.fc-button-"+u).addClass(q+"-state-active")}function j(u){P.find("span.fc-button-"+u).removeClass(q+"-state-active")}function t(u){P.find("span.fc-button-"+u).addClass(q+"-state-disabled")}function A(u){P.find("span.fc-button-"+u).removeClass(q+"-state-disabled")}var R=this;R.render=e;R.destroy=
c;R.updateTitle=g;R.activateButton=m;R.deactivateButton=j;R.disableButton=t;R.enableButton=A;var P=n([]),q}function $b(a,b){function e(d,H){return!da||d<da||H>la}function c(d,H){da=d;la=H;sa=d.getTimezoneOffset()*60*1E3;I=H.getTimezoneOffset()*60*1E3;T=[];d=++o;V=H=S.length;for(var x=0;x<H;x++)f(S[x],d)}function f(d,H){g(d,function(x){if(H==o){if(x){for(var $=0;$<x.length;$++){x[$].source=d;pa(x[$])}T=T.concat(x)}V--;V||va(T)}})}function g(d,H){var x,$=Aa.sourceFetchers,C;for(x=0;x<$.length;x++){C=
$[x](d,da,la,H);if(C===true)return;else if(typeof C=="object"){g(C,H);return}}if(x=d.events)if(n.isFunction(x)){u();x(M(da),M(la),function(z){H(z);ga()})}else n.isArray(x)?H(x):H();else if(d.url){var i=d.success,F=d.error,O=d.complete;x=n.extend({},d.data||{});C=Ta(d.startParam,a.startParam);$=Ta(d.endParam,a.endParam);if(C){var B=da;if(d.startParamUTC)B-=sa;x[C]=Math.round(+B/1E3)}if($){C=la;if(d.endParamUTC)C-=I;x[$]=Math.round(+C/1E3)}u();n.ajax(n.extend({},ac,d,{data:x,success:function(z){z=z||
[];var l=$a(i,this,arguments);if(n.isArray(l))z=l;H(z)},error:function(){$a(F,this,arguments);H()},complete:function(){$a(O,this,arguments);ga()}}))}else H()}function m(d){if(d=j(d)){V++;f(d,o)}}function j(d){if(n.isFunction(d)||n.isArray(d))d={events:d};else if(typeof d=="string")d={url:d};if(typeof d=="object"){ha(d);S.push(d);return d}}function t(d){S=n.grep(S,function(H){return!ra(H,d)});T=n.grep(T,function(H){return!ra(H.source,d)});va(T)}function A(d){var H,x=T.length,$,C=oa().defaultEventEnd,
i=d.start-d._start,F=d.end?d.end-(d._end||C(d)):0;for(H=0;H<x;H++){$=T[H];if($._id==d._id&&$!=d){$.start=new Date(+$.start+i);$.end=d.end?$.end?new Date(+$.end+F):new Date(+C($)+F):null;$.title=d.title;$.url=d.url;$.allDay=d.allDay;$.className=d.className;$.editable=d.editable;$.color=d.color;$.backgroudColor=d.backgroudColor;$.borderColor=d.borderColor;$.textColor=d.textColor;pa($)}}pa(d);va(T)}function R(d,H){pa(d);if(!d.source){if(H){qa.events.push(d);d.source=qa}T.push(d)}va(T)}function P(d){if(d){if(!n.isFunction(d)){var H=
d+"";d=function($){return $._id==H}}T=n.grep(T,d,true);for(x=0;x<S.length;x++)if(n.isArray(S[x].events))S[x].events=n.grep(S[x].events,d,true)}else{T=[];for(var x=0;x<S.length;x++)if(n.isArray(S[x].events))S[x].events=[]}va(T)}function q(d){if(n.isFunction(d))return n.grep(T,d);else if(d){d+="";return n.grep(T,function(H){return H._id==d})}return T}function u(){Y++||ea("loading",null,true)}function ga(){--Y||ea("loading",null,false)}function pa(d){var H=d.source||{},x=Ta(H.ignoreTimezone,a.ignoreTimezone);
d._id=d._id||(d.id===na?"_fc"+bc++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=M(d.start=kb(d.start,x));d.end=kb(d.end,x);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?M(d.end):null;if(d.allDay===na)d.allDay=Ta(H.allDayDefault,a.allDayDefault);if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[]}function ha(d){if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];for(var H=
Aa.sourceNormalizers,x=0;x<H.length;x++)H[x](d)}function ra(d,H){return d&&H&&ta(d)==ta(H)}function ta(d){return(typeof d=="object"?d.events||d.url:"")||d}var ia=this;ia.isFetchNeeded=e;ia.fetchEvents=c;ia.addEventSource=m;ia.removeEventSource=t;ia.updateEvent=A;ia.renderEvent=R;ia.removeEvents=P;ia.clientEvents=q;ia.normalizeEvent=pa;var ea=ia.trigger,oa=ia.getView,va=ia.reportEvents,qa={events:[]},S=[qa],da,la,sa,I,o=0,V=0,Y=0,T=[];for(ia=0;ia<b.length;ia++)j(b[ia])}function gb(a,b,e){a.setFullYear(a.getFullYear()+
b);e||Ka(a);return a}function hb(a,b,e){if(+a){b=a.getMonth()+b;var c=M(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(e||Ka(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}function ca(a,b,e){if(+a){b=a.getDate()+b;var c=M(a);c.setHours(9);c.setDate(b);a.setDate(b);e||Ka(a);lb(a,c)}return a}function lb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function ya(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ka(a){a.setHours(0);a.setMinutes(0);
a.setSeconds(0);a.setMilliseconds(0);return a}function M(a,b){if(b)return Ka(new Date(+a));return new Date(+a)}function zb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Fa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)ca(a,b);return a}function Ca(a,b){return Math.round((M(a,true)-M(b,true))/Ab)}function yb(a,b,e,c){if(b!==na&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==na&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}c!==
na&&a.setDate(c)}function kb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===na)b=true;return Bb(a,b)||(a?new Date(a):null)}return null}function Bb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,
1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}lb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);lb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function mb(a){if(typeof a=="number")return a*
60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Oa(a,b,e){return ib(a,null,b,e)}function ib(a,b,e,c){c=c||Ya;var f=a,g=b,m,j=e.length,t,A,R,P="";for(m=0;m<j;m++){t=e.charAt(m);if(t=="'")for(A=m+1;A<j;A++){if(e.charAt(A)=="'"){if(f){P+=A==m+1?"'":e.substring(m+1,A);m=A}break}}else if(t=="(")for(A=m+1;A<j;A++){if(e.charAt(A)==
")"){m=Oa(f,e.substring(m+1,A),c);if(parseInt(m.replace(/\D/,""),10))P+=m;m=A;break}}else if(t=="[")for(A=m+1;A<j;A++){if(e.charAt(A)=="]"){t=e.substring(m+1,A);m=Oa(f,t,c);if(m!=Oa(g,t,c))P+=m;m=A;break}}else if(t=="{"){f=b;g=a}else if(t=="}"){f=a;g=b}else{for(A=j;A>m;A--)if(R=dc[e.substring(m,A)]){if(f)P+=R(f,c);m=A-1;break}if(A==m)if(f)P+=t}}return P}function Ua(a){return a.end?ec(a.end,a.allDay):ca(M(a.start),1)}function ec(a,b){a=M(a);return b||a.getHours()||a.getMinutes()?ca(a,1):Ka(a)}function fc(a,
b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Cb(a,b){return a.end>b.start&&a.start<b.end}function nb(a,b,e,c){var f=[],g,m=a.length,j,t,A,R,P;for(g=0;g<m;g++){j=a[g];t=j.start;A=b[g];if(A>e&&t<c){if(t<e){t=M(e);R=false}else{t=t;R=true}if(A>c){A=M(c);P=false}else{A=A;P=true}f.push({event:j,start:t,end:A,isStart:R,isEnd:P,msLength:A-t})}}return f.sort(fc)}function ob(a){var b=[],e,c=a.length,f,g,m,j;for(e=0;e<c;e++){f=a[e];for(g=0;;){m=false;if(b[g])for(j=0;j<b[g].length;j++)if(Cb(b[g][j],
f)){m=true;break}if(m)g++;else break}if(b[g])b[g].push(f);else b[g]=[f]}return b}function Db(a,b,e){a.unbind("mouseover").mouseover(function(c){for(var f=c.target,g;f!=this;){g=f;f=f.parentNode}if((f=g._fci)!==na){g._fci=na;g=b[f];e(g.event,g.element,g);n(c.target).trigger(c)}c.stopPropagation()})}function Va(a,b,e){for(var c=0,f;c<a.length;c++){f=n(a[c]);f.width(Math.max(0,b-pb(f,e)))}}function Eb(a,b,e){for(var c=0,f;c<a.length;c++){f=n(a[c]);f.height(Math.max(0,b-Sa(f,e)))}}function pb(a,b){return gc(a)+
hc(a)+(b?ic(a):0)}function gc(a){return(parseFloat(n.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(n.curCSS(a[0],"paddingRight",true))||0)}function ic(a){return(parseFloat(n.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(n.curCSS(a[0],"marginRight",true))||0)}function hc(a){return(parseFloat(n.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(n.curCSS(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return jc(a)+kc(a)+(b?Fb(a):0)}function jc(a){return(parseFloat(n.curCSS(a[0],"paddingTop",
true))||0)+(parseFloat(n.curCSS(a[0],"paddingBottom",true))||0)}function Fb(a){return(parseFloat(n.curCSS(a[0],"marginTop",true))||0)+(parseFloat(n.curCSS(a[0],"marginBottom",true))||0)}function kc(a){return(parseFloat(n.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(n.curCSS(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Gb(a,b){return a-b}function Hb(a){return Math.max.apply(Math,
a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==na)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,c;e>=0;e--){c=a[b[e].toLowerCase()];if(c!==na)return c}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ib(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function qb(a){a.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ab(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function rb(a,b){a.each(function(e,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+lc[b.getDay()])})}function Jb(a,b){var e=a.source||{},c=a.color,f=e.color,g=b("eventColor"),m=a.backgroundColor||c||e.backgroundColor||f||b("eventBackgroundColor")||g;c=a.borderColor||
c||e.borderColor||f||b("eventBorderColor")||g;a=a.textColor||e.textColor||b("eventTextColor");b=[];m&&b.push("background-color:"+m);c&&b.push("border-color:"+c);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,e){if(n.isFunction(a))a=[a];if(a){var c,f;for(c=0;c<a.length;c++)f=a[c].apply(b,e)||f;return f}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==na)return arguments[a]}function mc(a,b){function e(j,t){if(t){hb(j,t);j.setDate(1)}j=M(j,true);j.setDate(1);t=hb(M(j),1);
var A=M(j),R=M(t),P=f("firstDay"),q=f("weekends")?0:1;if(q){Fa(A);Fa(R,-1,true)}ca(A,-((A.getDay()-Math.max(P,q)+7)%7));ca(R,(7-R.getDay()+Math.max(P,q))%7);P=Math.round((R-A)/(Ab*7));if(f("weekMode")=="fixed"){ca(R,(6-P)*7);P=6}c.title=m(j,f("titleFormat"));c.start=j;c.end=t;c.visStart=A;c.visEnd=R;g(6,P,q?5:7,true)}var c=this;c.render=e;sb.call(c,a,b,"month");var f=c.opt,g=c.renderBasic,m=b.formatDate}function nc(a,b){function e(j,t){t&&ca(j,t*7);j=ca(M(j),-((j.getDay()-f("firstDay")+7)%7));t=ca(M(j),
7);var A=M(j),R=M(t),P=f("weekends");if(!P){Fa(A);Fa(R,-1,true)}c.title=m(A,ca(M(R),-1),f("titleFormat"));c.start=j;c.end=t;c.visStart=A;c.visEnd=R;g(1,1,P?7:5,false)}var c=this;c.render=e;sb.call(c,a,b,"basicWeek");var f=c.opt,g=c.renderBasic,m=b.formatDates}function oc(a,b){function e(j,t){if(t){ca(j,t);f("weekends")||Fa(j,t<0?-1:1)}c.title=m(j,f("titleFormat"));c.start=c.visStart=M(j,true);c.end=c.visEnd=ca(M(c.start),1);g(1,1,1,false)}var c=this;c.render=e;sb.call(c,a,b,"basicDay");var f=c.opt,
g=c.renderBasic,m=b.formatDate}function sb(a,b,e){function c(w,J,Q,U){v=J;G=Q;f();(J=!F)?g(w,U):T();m(J)}function f(){if(k=V("isRTL")){E=-1;Z=G-1}else{E=1;Z=0}ka=V("firstDay");ja=V("weekends")?0:1;ma=V("theme")?"ui":"fc";aa=V("columnFormat")}function g(w,J){var Q,U=ma+"-widget-header",fa=ma+"-widget-content",ba;Q="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ba=0;ba<G;ba++)Q+="<th class='fc- "+U+"'/>";Q+="</tr></thead><tbody>";for(ba=0;ba<w;ba++){Q+="<tr class='fc-week"+
ba+"'>";for(U=0;U<G;U++)Q+="<td class='fc- "+fa+" fc-day"+(ba*G+U)+"'><div>"+(J?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";Q+="</tr>"}Q+="</tbody></table>";w=n(Q).appendTo(a);C=w.find("thead");i=C.find("th");F=w.find("tbody");O=F.find("tr");B=F.find("td");z=B.filter(":first-child");l=O.eq(0).find("div.fc-day-content div");ab(C.add(C.find("tr")));ab(O);O.eq(0).addClass("fc-first");A(B);X=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}
function m(w){var J=w||v==1,Q=o.start.getMonth(),U=Ka(new Date),fa,ba,wa;J&&i.each(function(xa,Ga){fa=n(Ga);ba=da(xa);fa.html($(ba,aa));rb(fa,ba)});B.each(function(xa,Ga){fa=n(Ga);ba=da(xa);ba.getMonth()==Q?fa.removeClass("fc-other-month"):fa.addClass("fc-other-month");+ba==+U?fa.addClass(ma+"-state-highlight fc-today"):fa.removeClass(ma+"-state-highlight fc-today");fa.find("div.fc-day-number").text(ba.getDate());J&&rb(fa,ba)});O.each(function(xa,Ga){wa=n(Ga);if(xa<v){wa.show();xa==v-1?wa.addClass("fc-last"):
wa.removeClass("fc-last")}else wa.hide()})}function j(w){p=w;w=p-C.height();var J,Q,U;if(V("weekMode")=="variable")J=Q=Math.floor(w/(v==1?2:6));else{J=Math.floor(w/v);Q=w-J*(v-1)}z.each(function(fa,ba){if(fa<v){U=n(ba);Za(U.find("> div"),(fa==v-1?Q:J)-Sa(U))}})}function t(w){W=w;L.clear();s=Math.floor(W/G);Va(i.slice(0,-1),s)}function A(w){w.click(R).mousedown(x)}function R(w){if(!V("selectable")){var J=parseInt(this.className.match(/fc\-day(\d+)/)[1]);J=da(J);Y("dayClick",this,J,true,w)}}function P(w,
J,Q){Q&&r.build();Q=M(o.visStart);for(var U=ca(M(Q),G),fa=0;fa<v;fa++){var ba=new Date(Math.max(Q,w)),wa=new Date(Math.min(U,J));if(ba<wa){var xa;if(k){xa=Ca(wa,Q)*E+Z+1;ba=Ca(ba,Q)*E+Z+1}else{xa=Ca(ba,Q);ba=Ca(wa,Q)}A(q(fa,xa,fa,ba-1))}ca(Q,7);ca(U,7)}}function q(w,J,Q,U){w=r.rect(w,J,Q,U,a);return d(w,a)}function u(w){return M(w)}function ga(w,J){P(w,ca(M(J),1),true)}function pa(){H()}function ha(w,J,Q){var U=va(w);Y("dayClick",B[U.row*G+U.col],w,J,Q)}function ra(w,J){K.start(function(Q){H();Q&&
q(Q.row,Q.col,Q.row,Q.col)},J)}function ta(w,J,Q){var U=K.stop();H();if(U){U=qa(U);Y("drop",w,U,true,J,Q)}}function ia(w){return M(w.start)}function ea(w){return L.left(w)}function oa(w){return L.right(w)}function va(w){return{row:Math.floor(Ca(w,o.visStart)/7),col:la(w.getDay())}}function qa(w){return S(w.row,w.col)}function S(w,J){return ca(M(o.visStart),w*7+J*E+Z)}function da(w){return S(Math.floor(w/G),w%G)}function la(w){return(w-Math.max(ka,ja)+G)%G*E+Z}function sa(w){return O.eq(w)}function I(){return{left:0,
right:W}}var o=this;o.renderBasic=c;o.setHeight=j;o.setWidth=t;o.renderDayOverlay=P;o.defaultSelectionEnd=u;o.renderSelection=ga;o.clearSelection=pa;o.reportDayClick=ha;o.dragStart=ra;o.dragStop=ta;o.defaultEventEnd=ia;o.getHoverListener=function(){return K};o.colContentLeft=ea;o.colContentRight=oa;o.dayOfWeekCol=la;o.dateCell=va;o.cellDate=qa;o.cellIsAllDay=function(){return true};o.allDayRow=sa;o.allDayBounds=I;o.getRowCnt=function(){return v};o.getColCnt=function(){return G};o.getColWidth=function(){return s};
o.getDaySegmentContainer=function(){return X};Kb.call(o,a,b,e);Lb.call(o);Mb.call(o);pc.call(o);var V=o.opt,Y=o.trigger,T=o.clearEvents,d=o.renderOverlay,H=o.clearOverlays,x=o.daySelectionMousedown,$=b.formatDate,C,i,F,O,B,z,l,X,W,p,s,v,G,r,K,L,k,E,Z,ka,ja,ma,aa;qb(a.addClass("fc-grid"));r=new Nb(function(w,J){var Q,U,fa;i.each(function(ba,wa){Q=n(wa);U=Q.offset().left;if(ba)fa[1]=U;fa=[U];J[ba]=fa});fa[1]=U+Q.outerWidth();O.each(function(ba,wa){if(ba<v){Q=n(wa);U=Q.offset().top;if(ba)fa[1]=U;fa=
[U];w[ba]=fa}});fa[1]=U+Q.outerHeight()});K=new Ob(r);L=new Pb(function(w){return l.eq(w)})}function pc(){function a(S,da){R(S);va(e(S),da)}function b(){P();ha().empty()}function e(S){var da=ea(),la=oa(),sa=M(g.visStart);la=ca(M(sa),la);var I=n.map(S,Ua),o,V,Y,T,d,H,x=[];for(o=0;o<da;o++){V=ob(nb(S,I,sa,la));for(Y=0;Y<V.length;Y++){T=V[Y];for(d=0;d<T.length;d++){H=T[d];H.row=o;H.level=Y;x.push(H)}}ca(sa,7);ca(la,7)}return x}function c(S,da,la){t(S)&&f(S,da);la.isEnd&&A(S)&&qa(S,da,la);q(S,da)}function f(S,
da){var la=ra(),sa;da.draggable({zIndex:9,delay:50,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(I,o){j("eventDragStart",da,S,I,o);ga(S,da);la.start(function(V,Y,T,d){da.draggable("option","revert",!V||!T&&!d);ia();if(V){sa=T*7+d*(m("isRTL")?-1:1);ta(ca(M(S.start),sa),ca(Ua(S),sa))}else sa=0},I,"drag")},stop:function(I,o){la.stop();ia();j("eventDragStop",da,S,I,o);if(sa)pa(this,S,sa,0,S.allDay,I,o);else{da.css("filter","");u(S,da)}}})}var g=this;g.renderEvents=a;g.compileDaySegs=
e;g.clearEvents=b;g.bindDaySeg=c;Qb.call(g);var m=g.opt,j=g.trigger,t=g.isEventDraggable,A=g.isEventResizable,R=g.reportEvents,P=g.reportEventClear,q=g.eventElementHandlers,u=g.showEvents,ga=g.hideEvents,pa=g.eventDrop,ha=g.getDaySegmentContainer,ra=g.getHoverListener,ta=g.renderDayOverlay,ia=g.clearOverlays,ea=g.getRowCnt,oa=g.getColCnt,va=g.renderDaySegs,qa=g.resizableDayEvent}function qc(a,b){function e(j,t){t&&ca(j,t*7);j=ca(M(j),-((j.getDay()-f("firstDay")+7)%7));t=ca(M(j),7);var A=M(j),R=M(t),
P=f("weekends");if(!P){Fa(A);Fa(R,-1,true)}c.title=m(A,ca(M(R),-1),f("titleFormat"));c.start=j;c.end=t;c.visStart=A;c.visEnd=R;g(P?7:5)}var c=this;c.render=e;Rb.call(c,a,b,"agendaWeek");var f=c.opt,g=c.renderAgenda,m=b.formatDates}function rc(a,b){function e(j,t){if(t){ca(j,t);f("weekends")||Fa(j,t<0?-1:1)}t=M(j,true);var A=ca(M(t),1);c.title=m(j,f("titleFormat"));c.start=c.visStart=t;c.end=c.visEnd=A;g(1)}var c=this;c.render=e;Rb.call(c,a,b,"agendaDay");var f=c.opt,g=c.renderAgenda,m=b.formatDate}
function Rb(a,b,e){function c(h){Ba=h;f();v?O():g();m()}function f(){Wa=i("theme")?"ui":"fc";Sb=i("weekends")?0:1;Tb=i("firstDay");if(Ub=i("isRTL")){Ha=-1;Ia=Ba-1}else{Ha=1;Ia=0}La=mb(i("minTime"));bb=mb(i("maxTime"));Vb=i("columnFormat")}function g(){var h=Wa+"-widget-header",N=Wa+"-widget-content",y,D,ua,za,Da,Ea=i("slotMinutes")%15==0;y="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(D=0;D<Ba;D++)y+=
"<th class='fc- fc-col"+D+" "+h+"'/>";y+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(D=0;D<Ba;D++)y+="<td class='fc- fc-col"+D+" "+N+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";y+="<td class='fc-agenda-gutter "+N+"'>&nbsp;</td></tr></tbody></table>";v=n(y).appendTo(a);G=v.find("thead");r=G.find("th").slice(1,-1);K=v.find("tbody");L=K.find("td").slice(0,-1);k=L.find("div.fc-day-content div");
E=L.eq(0);Z=E.find("> div");ab(G.add(G.find("tr")));ab(K.add(K.find("tr")));ba=G.find("th:first");wa=v.find(".fc-agenda-gutter");ka=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(i("allDaySlot")){ja=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ka);y="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+i("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ma=n(y).appendTo(ka);aa=ma.find("tr");q(aa.find("td"));ba=ba.add(ma.find("th:first"));wa=wa.add(ma.find("th.fc-agenda-gutter"));ka.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")}else ja=n([]);w=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ka);J=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(w);Q=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(J);
y="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ua=zb();za=ya(M(ua),bb);ya(ua,La);for(D=tb=0;ua<za;D++){Da=ua.getMinutes();y+="<tr class='fc-slot"+D+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Ea||!Da?s(ua,i("axisFormat")):"&nbsp;")+"</th><td class='"+N+"'><div style='position:relative'>&nbsp;</div></td></tr>";ya(ua,i("slotMinutes"));tb++}y+="</tbody></table>";U=n(y).appendTo(J);fa=U.find("div:first");u(U.find("td"));ba=ba.add(U.find("th:first"))}
function m(){var h,N,y,D,ua=Ka(new Date);for(h=0;h<Ba;h++){D=va(h);N=r.eq(h);N.html(s(D,Vb));y=L.eq(h);+D==+ua?y.addClass(Wa+"-state-highlight fc-today"):y.removeClass(Wa+"-state-highlight fc-today");rb(N.add(y),D)}}function j(h,N){if(h===na)h=Wb;Wb=h;ub={};var y=K.position().top,D=w.position().top;h=Math.min(h-y,U.height()+D+1);Z.height(h-Sa(E));ka.css("top",y);w.height(h-D-1);Xa=fa.height()+1;N&&A()}function t(h){Ga=h;cb.clear();Ma=0;Va(ba.width("").each(function(N,y){Ma=Math.max(Ma,n(y).outerWidth())}),
Ma);h=w[0].clientWidth;if(vb=w.width()-h){Va(wa,vb);wa.show().prev().removeClass("fc-last")}else wa.hide().prev().addClass("fc-last");db=Math.floor((h-Ma)/Ba);Va(r.slice(0,-1),db)}function A(){function h(){w.scrollTop(D)}var N=zb(),y=M(N);y.setHours(i("firstHour"));var D=da(N,y)+1;h();setTimeout(h,0)}function R(){Xb=w.scrollTop()}function P(){w.scrollTop(Xb)}function q(h){h.click(ga).mousedown(W)}function u(h){h.click(ga).mousedown(d)}function ga(h){if(!i("selectable")){var N=Math.min(Ba-1,Math.floor((h.pageX-
v.offset().left-Ma)/db)),y=va(N),D=this.parentNode.className.match(/fc-slot(\d+)/);if(D){D=parseInt(D[1])*i("slotMinutes");var ua=Math.floor(D/60);y.setHours(ua);y.setMinutes(D%60+La);F("dayClick",L[N],y,false,h)}else F("dayClick",L[N],y,true,h)}}function pa(h,N,y){y&&Na.build();var D=M(C.visStart);if(Ub){y=Ca(N,D)*Ha+Ia+1;h=Ca(h,D)*Ha+Ia+1}else{y=Ca(h,D);h=Ca(N,D)}y=Math.max(0,y);h=Math.min(Ba,h);y<h&&q(ha(0,y,0,h-1))}function ha(h,N,y,D){h=Na.rect(h,N,y,D,ka);return B(h,ka)}function ra(h,N){for(var y=
M(C.visStart),D=ca(M(y),1),ua=0;ua<Ba;ua++){var za=new Date(Math.max(y,h)),Da=new Date(Math.min(D,N));if(za<Da){var Ea=ua*Ha+Ia;Ea=Na.rect(0,Ea,0,Ea,J);za=da(y,za);Da=da(y,Da);Ea.top=za;Ea.height=Da-za;u(B(Ea,J))}ca(y,1);ca(D,1)}}function ta(h){return cb.left(h)}function ia(h){return cb.right(h)}function ea(h){return{row:Math.floor(Ca(h,C.visStart)/7),col:S(h.getDay())}}function oa(h){var N=va(h.col);h=h.row;i("allDaySlot")&&h--;h>=0&&ya(N,La+h*i("slotMinutes"));return N}function va(h){return ca(M(C.visStart),
h*Ha+Ia)}function qa(h){return i("allDaySlot")&&!h.row}function S(h){return(h-Math.max(Tb,Sb)+Ba)%Ba*Ha+Ia}function da(h,N){h=M(h,true);if(N<ya(M(h),La))return 0;if(N>=ya(M(h),bb))return U.height();h=i("slotMinutes");N=N.getHours()*60+N.getMinutes()-La;var y=Math.floor(N/h),D=ub[y];if(D===na)D=ub[y]=U.find("tr:eq("+y+") td div")[0].offsetTop;return Math.max(0,Math.round(D-1+Xa*(N%h/h)))}function la(){return{left:Ma,right:Ga-vb}}function sa(){return aa}function I(h){var N=M(h.start);if(h.allDay)return N;
return ya(N,i("defaultEventMinutes"))}function o(h,N){if(N)return M(h);return ya(M(h),i("slotMinutes"))}function V(h,N,y){if(y)i("allDaySlot")&&pa(h,ca(M(N),1),true);else Y(h,N)}function Y(h,N){var y=i("selectHelper");Na.build();if(y){var D=Ca(h,C.visStart)*Ha+Ia;if(D>=0&&D<Ba){D=Na.rect(0,D,0,D,J);var ua=da(h,h),za=da(h,N);if(za>ua){D.top=ua;D.height=za-ua;D.left+=2;D.width-=5;if(n.isFunction(y)){if(h=y(h,N)){D.position="absolute";D.zIndex=8;xa=n(h).css(D).appendTo(J)}}else{D.isStart=true;D.isEnd=
true;xa=n(p({title:"",start:h,end:N,className:["fc-select-helper"],editable:false},D));xa.css("opacity",i("dragOpacity"))}if(xa){u(xa);J.append(xa);Va(xa,D.width,true);Eb(xa,D.height,true)}}}}else ra(h,N)}function T(){z();if(xa){xa.remove();xa=null}}function d(h){if(h.which==1&&i("selectable")){X(h);var N;Ra.start(function(y,D){T();if(y&&y.col==D.col&&!qa(y)){D=oa(D);y=oa(y);N=[D,ya(M(D),i("slotMinutes")),y,ya(M(y),i("slotMinutes"))].sort(Gb);Y(N[0],N[3])}else N=null},h);n(document).one("mouseup",
function(y){Ra.stop();if(N){+N[0]==+N[1]&&H(N[0],false,y);l(N[0],N[3],false,y)}})}}function H(h,N,y){F("dayClick",L[S(h.getDay())],h,N,y)}function x(h,N){Ra.start(function(y){z();if(y)if(qa(y))ha(y.row,y.col,y.row,y.col);else{y=oa(y);var D=ya(M(y),i("defaultEventMinutes"));ra(y,D)}},N)}function $(h,N,y){var D=Ra.stop();z();D&&F("drop",h,oa(D),qa(D),N,y)}var C=this;C.renderAgenda=c;C.setWidth=t;C.setHeight=j;C.beforeHide=R;C.afterShow=P;C.defaultEventEnd=I;C.timePosition=da;C.dayOfWeekCol=S;C.dateCell=
ea;C.cellDate=oa;C.cellIsAllDay=qa;C.allDayRow=sa;C.allDayBounds=la;C.getHoverListener=function(){return Ra};C.colContentLeft=ta;C.colContentRight=ia;C.getDaySegmentContainer=function(){return ja};C.getSlotSegmentContainer=function(){return Q};C.getMinMinute=function(){return La};C.getMaxMinute=function(){return bb};C.getBodyContent=function(){return J};C.getRowCnt=function(){return 1};C.getColCnt=function(){return Ba};C.getColWidth=function(){return db};C.getSlotHeight=function(){return Xa};C.defaultSelectionEnd=
o;C.renderDayOverlay=pa;C.renderSelection=V;C.clearSelection=T;C.reportDayClick=H;C.dragStart=x;C.dragStop=$;Kb.call(C,a,b,e);Lb.call(C);Mb.call(C);sc.call(C);var i=C.opt,F=C.trigger,O=C.clearEvents,B=C.renderOverlay,z=C.clearOverlays,l=C.reportSelection,X=C.unselect,W=C.daySelectionMousedown,p=C.slotSegHtml,s=b.formatDate,v,G,r,K,L,k,E,Z,ka,ja,ma,aa,w,J,Q,U,fa,ba,wa,xa,Ga,Wb,Ma,db,vb,Xa,Xb,Ba,tb,Na,Ra,cb,ub={},Wa,Tb,Sb,Ub,Ha,Ia,La,bb,Vb;qb(a.addClass("fc-agenda"));Na=new Nb(function(h,N){function y(eb){return Math.max(Ea,
Math.min(tc,eb))}var D,ua,za;r.each(function(eb,uc){D=n(uc);ua=D.offset().left;if(eb)za[1]=ua;za=[ua];N[eb]=za});za[1]=ua+D.outerWidth();if(i("allDaySlot")){D=aa;ua=D.offset().top;h[0]=[ua,ua+D.outerHeight()]}for(var Da=J.offset().top,Ea=w.offset().top,tc=Ea+w.outerHeight(),fb=0;fb<tb;fb++)h.push([y(Da+Xa*fb),y(Da+Xa*(fb+1))])});Ra=new Ob(Na);cb=new Pb(function(h){return k.eq(h)})}function sc(){function a(p,s){ta(p);var v,G=p.length,r=[],K=[];for(v=0;v<G;v++)p[v].allDay?r.push(p[v]):K.push(p[v]);
if(u("allDaySlot")){V(e(r),s);oa()}g(c(K),s)}function b(){ia();va().empty();qa().empty()}function e(p){p=ob(nb(p,n.map(p,Ua),q.visStart,q.visEnd));var s,v=p.length,G,r,K,L=[];for(s=0;s<v;s++){G=p[s];for(r=0;r<G.length;r++){K=G[r];K.row=0;K.level=s;L.push(K)}}return L}function c(p){var s=T(),v=la(),G=da(),r=ya(M(q.visStart),v),K=n.map(p,f),L,k,E,Z,ka,ja,ma=[];for(L=0;L<s;L++){k=ob(nb(p,K,r,ya(M(r),G-v)));vc(k);for(E=0;E<k.length;E++){Z=k[E];for(ka=0;ka<Z.length;ka++){ja=Z[ka];ja.col=L;ja.level=E;ma.push(ja)}}ca(r,
1,true)}return ma}function f(p){return p.end?M(p.end):ya(M(p.start),u("defaultEventMinutes"))}function g(p,s){var v,G=p.length,r,K,L,k,E,Z,ka,ja,ma,aa="",w,J,Q={},U={},fa=qa(),ba;v=T();if(w=u("isRTL")){J=-1;ba=v-1}else{J=1;ba=0}for(v=0;v<G;v++){r=p[v];K=r.event;L=sa(r.start,r.start);k=sa(r.start,r.end);E=r.col;Z=r.level;ka=r.forward||0;ja=I(E*J+ba);ma=o(E*J+ba)-ja;ma=Math.min(ma-6,ma*0.95);E=Z?ma/(Z+ka+1):ka?(ma/(ka+1)-6)*2:ma;Z=ja+ma/(Z+ka+1)*Z*J+(w?ma-E:0);r.top=L;r.left=Z;r.outerWidth=E;r.outerHeight=
k-L;aa+=m(K,r)}fa[0].innerHTML=aa;w=fa.children();for(v=0;v<G;v++){r=p[v];K=r.event;aa=n(w[v]);J=ga("eventRender",K,K,aa);if(J===false)aa.remove();else{if(J&&J!==true){aa.remove();aa=n(J).css({position:"absolute",top:r.top,left:r.left}).appendTo(fa)}r.element=aa;if(K._id===s)t(K,aa,r);else aa[0]._fci=v;$(K,aa)}}Db(fa,p,t);for(v=0;v<G;v++){r=p[v];if(aa=r.element){K=Q[s=r.key=Ib(aa[0])];r.vsides=K===na?(Q[s]=Sa(aa,true)):K;K=U[s];r.hsides=K===na?(U[s]=pb(aa,true)):K;s=aa.find("div.fc-event-content");
if(s.length)r.contentTop=s[0].offsetTop}}for(v=0;v<G;v++){r=p[v];if(aa=r.element){aa[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px";Q=Math.max(0,r.outerHeight-r.vsides);aa[0].style.height=Q+"px";K=r.event;if(r.contentTop!==na&&Q-r.contentTop<10){aa.find("div.fc-event-time").text(X(K.start,u("timeFormat"))+" - "+K.title);aa.find("div.fc-event-title").remove()}ga("eventAfterRender",K,K,aa)}}}function m(p,s){var v="<",G=p.url,r=Jb(p,u),K=r?" style='"+r+"'":"",L=["fc-event","fc-event-skin","fc-event-vert"];
pa(p)&&L.push("fc-event-draggable");s.isStart&&L.push("fc-corner-top");s.isEnd&&L.push("fc-corner-bottom");L=L.concat(p.className);if(p.source)L=L.concat(p.source.className||[]);v+=G?"a href='"+Qa(p.url)+"'":"div";v+=" class='"+L.join(" ")+"' style='position:absolute;z-index:8;top:"+s.top+"px;left:"+s.left+"px;"+r+"'><div class='fc-event-inner fc-event-skin'"+K+"><div class='fc-event-head fc-event-skin'"+K+"><div class='fc-event-time'>"+Qa(W(p.start,p.end,u("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
Qa(p.title)+"</div></div><div class='fc-event-bg'></div></div>";if(s.isEnd&&ha(p))v+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";v+="</"+(G?"a":"div")+">";return v}function j(p,s,v){pa(p)&&A(p,s,v.isStart);v.isEnd&&ha(p)&&Y(p,s,v);ea(p,s)}function t(p,s,v){var G=s.find("div.fc-event-time");pa(p)&&R(p,s,G);v.isEnd&&ha(p)&&P(p,s,G);ea(p,s)}function A(p,s,v){function G(){if(!L){s.width(r).height("").draggable("option","grid",null);L=true}}var r,K,L=true,k,E=u("isRTL")?-1:1,Z=S(),ka=d(),
ja=H(),ma=la();s.draggable({zIndex:9,opacity:u("dragOpacity","month"),revertDuration:u("dragRevertDuration"),start:function(aa,w){ga("eventDragStart",s,p,aa,w);i(p,s);r=s.width();Z.start(function(J,Q,U,fa){z();if(J){K=false;k=fa*E;if(J.row)if(v){if(L){s.width(ka-10);Eb(s,ja*Math.round((p.end?(p.end-p.start)/wc:u("defaultEventMinutes"))/u("slotMinutes")));s.draggable("option","grid",[ka,1]);L=false}}else K=true;else{B(ca(M(p.start),k),ca(Ua(p),k));G()}K=K||L&&!k}else{G();K=true}s.draggable("option",
"revert",K)},aa,"drag")},stop:function(aa,w){Z.stop();z();ga("eventDragStop",s,p,aa,w);if(K){G();s.css("filter","");C(p,s)}else{var J=0;L||(J=Math.round((s.offset().top-x().offset().top)/ja)*u("slotMinutes")+ma-(p.start.getHours()*60+p.start.getMinutes()));F(this,p,k,J,L,aa,w)}}})}function R(p,s,v){function G(J){var Q=ya(M(p.start),J),U;if(p.end)U=ya(M(p.end),J);v.text(W(Q,U,u("timeFormat")))}function r(){if(L){v.css("display","");s.draggable("option","grid",[aa,w]);L=false}}var K,L=false,k,E,Z,ka=
u("isRTL")?-1:1,ja=S(),ma=T(),aa=d(),w=H();s.draggable({zIndex:9,scroll:false,grid:[aa,w],axis:ma==1?"y":false,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(J,Q){ga("eventDragStart",s,p,J,Q);i(p,s);K=s.position();E=Z=0;ja.start(function(U,fa,ba,wa){s.draggable("option","revert",!U);z();if(U){k=wa*ka;if(u("allDaySlot")&&!U.row){if(!L){L=true;v.hide();s.draggable("option","grid",null)}B(ca(M(p.start),k),ca(Ua(p),k))}else r()}},J,"drag")},drag:function(J,Q){E=Math.round((Q.position.top-
K.top)/w)*u("slotMinutes");if(E!=Z){L||G(E);Z=E}},stop:function(J,Q){var U=ja.stop();z();ga("eventDragStop",s,p,J,Q);if(U&&(k||E||L))F(this,p,k,L?0:E,L,J,Q);else{r();s.css("filter","");s.css(K);G(0);C(p,s)}}})}function P(p,s,v){var G,r,K=H();s.resizable({handles:{s:"div.ui-resizable-s"},grid:K,start:function(L,k){G=r=0;i(p,s);s.css("z-index",9);ga("eventResizeStart",this,p,L,k)},resize:function(L,k){G=Math.round((Math.max(K,s.height())-k.originalSize.height)/K);if(G!=r){v.text(W(p.start,!G&&!p.end?
null:ya(ra(p),u("slotMinutes")*G),u("timeFormat")));r=G}},stop:function(L,k){ga("eventResizeStop",this,p,L,k);if(G)O(this,p,0,u("slotMinutes")*G,L,k);else{s.css("z-index",8);C(p,s)}}})}var q=this;q.renderEvents=a;q.compileDaySegs=e;q.clearEvents=b;q.slotSegHtml=m;q.bindDaySeg=j;Qb.call(q);var u=q.opt,ga=q.trigger,pa=q.isEventDraggable,ha=q.isEventResizable,ra=q.eventEnd,ta=q.reportEvents,ia=q.reportEventClear,ea=q.eventElementHandlers,oa=q.setHeight,va=q.getDaySegmentContainer,qa=q.getSlotSegmentContainer,
S=q.getHoverListener,da=q.getMaxMinute,la=q.getMinMinute,sa=q.timePosition,I=q.colContentLeft,o=q.colContentRight,V=q.renderDaySegs,Y=q.resizableDayEvent,T=q.getColCnt,d=q.getColWidth,H=q.getSlotHeight,x=q.getBodyContent,$=q.reportEventElement,C=q.showEvents,i=q.hideEvents,F=q.eventDrop,O=q.eventResize,B=q.renderDayOverlay,z=q.clearOverlays,l=q.calendar,X=l.formatDate,W=l.formatDates}function vc(a){var b,e,c,f,g,m;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){g=f[e];for(c=0;c<a[b-1].length;c++){m=
a[b-1][c];if(Cb(g,m))m.forward=Math.max(m.forward||0,(g.forward||0)+1)}}}}function Kb(a,b,e){function c(I,o){I=sa[I];if(typeof I=="object")return jb(I,o||e);return I}function f(I,o){return b.trigger.apply(b,[I,o||ea].concat(Array.prototype.slice.call(arguments,2),[ea]))}function g(I){return j(I)&&!c("disableDragging")}function m(I){return j(I)&&!c("disableResizing")}function j(I){return Ta(I.editable,(I.source||{}).editable,c("editable"))}function t(I){S={};var o,V=I.length,Y;for(o=0;o<V;o++){Y=I[o];
if(S[Y._id])S[Y._id].push(Y);else S[Y._id]=[Y]}}function A(I){return I.end?M(I.end):oa(I)}function R(I,o){da.push(o);if(la[I._id])la[I._id].push(o);else la[I._id]=[o]}function P(){da=[];la={}}function q(I,o){o.click(function(V){if(!o.hasClass("ui-draggable-dragging")&&!o.hasClass("ui-resizable-resizing"))return f("eventClick",this,I,V)}).hover(function(V){f("eventMouseover",this,I,V)},function(V){f("eventMouseout",this,I,V)})}function u(I,o){pa(I,o,"show")}function ga(I,o){pa(I,o,"hide")}function pa(I,
o,V){I=la[I._id];var Y,T=I.length;for(Y=0;Y<T;Y++)if(!o||I[Y][0]!=o[0])I[Y][V]()}function ha(I,o,V,Y,T,d,H){var x=o.allDay,$=o._id;ta(S[$],V,Y,T);f("eventDrop",I,o,V,Y,T,function(){ta(S[$],-V,-Y,x);qa($)},d,H);qa($)}function ra(I,o,V,Y,T,d){var H=o._id;ia(S[H],V,Y);f("eventResize",I,o,V,Y,function(){ia(S[H],-V,-Y);qa(H)},T,d);qa(H)}function ta(I,o,V,Y){V=V||0;for(var T,d=I.length,H=0;H<d;H++){T=I[H];if(Y!==na)T.allDay=Y;ya(ca(T.start,o,true),V);if(T.end)T.end=ya(ca(T.end,o,true),V);va(T,sa)}}function ia(I,
o,V){V=V||0;for(var Y,T=I.length,d=0;d<T;d++){Y=I[d];Y.end=ya(ca(A(Y),o,true),V);va(Y,sa)}}var ea=this;ea.element=a;ea.calendar=b;ea.name=e;ea.opt=c;ea.trigger=f;ea.isEventDraggable=g;ea.isEventResizable=m;ea.reportEvents=t;ea.eventEnd=A;ea.reportEventElement=R;ea.reportEventClear=P;ea.eventElementHandlers=q;ea.showEvents=u;ea.hideEvents=ga;ea.eventDrop=ha;ea.eventResize=ra;var oa=ea.defaultEventEnd,va=b.normalizeEvent,qa=b.reportEventChange,S={},da=[],la={},sa=b.options}function Qb(){function a(i,
F){var O=T(),B=qa(),z=S(),l=0,X,W,p=i.length,s,v;O[0].innerHTML=e(i);c(i,O.children());f(i);g(i,O,F);m(i);j(i);t(i);F=A();for(O=0;O<B;O++){X=[];for(W=0;W<z;W++)X[W]=0;for(;l<p&&(s=i[l]).row==O;){W=Hb(X.slice(s.startCol,s.endCol));s.top=W;W+=s.outerHeight;for(v=s.startCol;v<s.endCol;v++)X[v]=W;l++}F[O].height(Hb(X))}P(i,R(F))}function b(i,F,O){var B=n("<div/>"),z=T(),l=i.length,X;B[0].innerHTML=e(i);B=B.children();z.append(B);c(i,B);m(i);j(i);t(i);P(i,R(A()));B=[];for(z=0;z<l;z++)if(X=i[z].element){i[z].row===
F&&X.css("top",O);B.push(X[0])}return n(B)}function e(i){var F=ga("isRTL"),O,B=i.length,z,l,X,W;O=la();var p=O.left,s=O.right,v,G,r,K,L,k="";for(O=0;O<B;O++){z=i[O];l=z.event;W=["fc-event","fc-event-skin","fc-event-hori"];ha(l)&&W.push("fc-event-draggable");if(F){z.isStart&&W.push("fc-corner-right");z.isEnd&&W.push("fc-corner-left");v=o(z.end.getDay()-1);G=o(z.start.getDay());r=z.isEnd?sa(v):p;K=z.isStart?I(G):s}else{z.isStart&&W.push("fc-corner-left");z.isEnd&&W.push("fc-corner-right");v=o(z.start.getDay());
G=o(z.end.getDay()-1);r=z.isStart?sa(v):p;K=z.isEnd?I(G):s}W=W.concat(l.className);if(l.source)W=W.concat(l.source.className||[]);X=l.url;L=Jb(l,ga);k+=X?"<a href='"+Qa(X)+"'":"<div";k+=" class='"+W.join(" ")+"' style='position:absolute;z-index:8;left:"+r+"px;"+L+"'><div class='fc-event-inner fc-event-skin'"+(L?" style='"+L+"'":"")+">";if(!l.allDay&&z.isStart)k+="<span class='fc-event-time'>"+Qa(H(l.start,l.end,ga("timeFormat")))+"</span>";k+="<span class='fc-event-title'>"+Qa(l.title)+"</span></div>";
if(z.isEnd&&ra(l))k+="<div class='ui-resizable-handle ui-resizable-"+(F?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";k+="</"+(X?"a":"div")+">";z.left=r;z.outerWidth=K-r;z.startCol=v;z.endCol=G+1}return k}function c(i,F){var O,B=i.length,z,l,X;for(O=0;O<B;O++){z=i[O];l=z.event;X=n(F[O]);l=pa("eventRender",l,l,X);if(l===false)X.remove();else{if(l&&l!==true){l=n(l).css({position:"absolute",left:z.left});X.replaceWith(l);X=l}z.element=X}}}function f(i){var F,O=i.length,B,z;for(F=0;F<O;F++){B=i[F];(z=B.element)&&
ia(B.event,z)}}function g(i,F,O){var B,z=i.length,l,X,W;for(B=0;B<z;B++){l=i[B];if(X=l.element){W=l.event;if(W._id===O)d(W,X,l);else X[0]._fci=B}}Db(F,i,d)}function m(i){var F,O=i.length,B,z,l,X,W={};for(F=0;F<O;F++){B=i[F];if(z=B.element){l=B.key=Ib(z[0]);X=W[l];if(X===na)X=W[l]=pb(z,true);B.hsides=X}}}function j(i){var F,O=i.length,B,z;for(F=0;F<O;F++){B=i[F];if(z=B.element)z[0].style.width=Math.max(0,B.outerWidth-B.hsides)+"px"}}function t(i){var F,O=i.length,B,z,l,X,W={};for(F=0;F<O;F++){B=i[F];
if(z=B.element){l=B.key;X=W[l];if(X===na)X=W[l]=Fb(z);B.outerHeight=z[0].offsetHeight+X}}}function A(){var i,F=qa(),O=[];for(i=0;i<F;i++)O[i]=da(i).find("td:first div.fc-day-content > div");return O}function R(i){var F,O=i.length,B=[];for(F=0;F<O;F++)B[F]=i[F][0].offsetTop;return B}function P(i,F){var O,B=i.length,z,l;for(O=0;O<B;O++){z=i[O];if(l=z.element){l[0].style.top=F[z.row]+(z.top||0)+"px";z=z.event;pa("eventAfterRender",z,z,l)}}}function q(i,F,O){var B=ga("isRTL"),z=B?"w":"e",l=F.find("div.ui-resizable-"+
z),X=false;qb(F);F.mousedown(function(W){W.preventDefault()}).click(function(W){if(X){W.preventDefault();W.stopImmediatePropagation()}});l.mousedown(function(W){function p(ja){pa("eventResizeStop",this,i,ja);n("body").css("cursor","");s.stop();$();k&&va(this,i,k,0,ja);setTimeout(function(){X=false},0)}if(W.which==1){X=true;var s=u.getHoverListener(),v=qa(),G=S(),r=B?-1:1,K=B?G-1:0,L=F.css("top"),k,E,Z=n.extend({},i),ka=V(i.start);C();n("body").css("cursor",z+"-resize").one("mouseup",p);pa("eventResizeStart",
this,i,W);s.start(function(ja,ma){if(ja){var aa=Math.max(ka.row,ja.row);ja=ja.col;if(v==1)aa=0;if(aa==ka.row)ja=B?Math.min(ka.col,ja):Math.max(ka.col,ja);k=aa*7+ja*r+K-(ma.row*7+ma.col*r+K);ma=ca(ta(i),k,true);if(k){Z.end=ma;aa=E;E=b(Y([Z]),O.row,L);E.find("*").css("cursor",z+"-resize");aa&&aa.remove();oa(i)}else if(E){ea(i);E.remove();E=null}$();x(i.start,ca(M(ma),1))}},W)}})}var u=this;u.renderDaySegs=a;u.resizableDayEvent=q;var ga=u.opt,pa=u.trigger,ha=u.isEventDraggable,ra=u.isEventResizable,
ta=u.eventEnd,ia=u.reportEventElement,ea=u.showEvents,oa=u.hideEvents,va=u.eventResize,qa=u.getRowCnt,S=u.getColCnt,da=u.allDayRow,la=u.allDayBounds,sa=u.colContentLeft,I=u.colContentRight,o=u.dayOfWeekCol,V=u.dateCell,Y=u.compileDaySegs,T=u.getDaySegmentContainer,d=u.bindDaySeg,H=u.calendar.formatDates,x=u.renderDayOverlay,$=u.clearOverlays,C=u.clearSelection}function Mb(){function a(P,q,u){b();q||(q=j(P,u));t(P,q,u);e(P,q,u)}function b(P){if(R){R=false;A();m("unselect",null,P)}}function e(P,q,u,
ga){R=true;m("select",null,P,q,u,ga)}function c(P){var q=f.cellDate,u=f.cellIsAllDay,ga=f.getHoverListener(),pa=f.reportDayClick;if(P.which==1&&g("selectable")){b(P);var ha;ga.start(function(ra,ta){A();if(ra&&u(ra)){ha=[q(ta),q(ra)].sort(Gb);t(ha[0],ha[1],true)}else ha=null},P);n(document).one("mouseup",function(ra){ga.stop();if(ha){+ha[0]==+ha[1]&&pa(ha[0],true,ra);e(ha[0],ha[1],true,ra)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=c;var g=f.opt,m=f.trigger,
j=f.defaultSelectionEnd,t=f.renderSelection,A=f.clearSelection,R=false;g("selectable")&&g("unselectAuto")&&n(document).mousedown(function(P){var q=g("unselectCancel");if(q)if(n(P.target).parents(q).length)return;b(P)})}function Lb(){function a(g,m){var j=f.shift();j||(j=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=m[0]&&j.appendTo(m);c.push(j.css(g).show());return j}function b(){for(var g;g=c.shift();)f.push(g.hide().unbind())}var e=this;e.renderOverlay=
a;e.clearOverlays=b;var c=[],f=[]}function Nb(a){var b=this,e,c;b.build=function(){e=[];c=[];a(e,c)};b.cell=function(f,g){var m=e.length,j=c.length,t,A=-1,R=-1;for(t=0;t<m;t++)if(g>=e[t][0]&&g<e[t][1]){A=t;break}for(t=0;t<j;t++)if(f>=c[t][0]&&f<c[t][1]){R=t;break}return A>=0&&R>=0?{row:A,col:R}:null};b.rect=function(f,g,m,j,t){t=t.offset();return{top:e[f][0]-t.top,left:c[g][0]-t.left,width:c[j][1]-c[g][0],height:e[m][1]-e[f][0]}}}function Ob(a){function b(j){xc(j);j=a.cell(j.pageX,j.pageY);if(!j!=
!m||j&&(j.row!=m.row||j.col!=m.col)){if(j){g||(g=j);f(j,g,j.row-g.row,j.col-g.col)}else f(j,g);m=j}}var e=this,c,f,g,m;e.start=function(j,t,A){f=j;g=m=null;a.build();b(t);c=A||"mousemove";n(document).bind(c,b)};e.stop=function(){n(document).unbind(c,b);return m}}function xc(a){if(a.pageX===na){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Pb(a){function b(m){return c[m]=c[m]||a(m)}var e=this,c={},f={},g={};e.left=function(m){return f[m]=f[m]===na?b(m).position().left:f[m]};
e.right=function(m){return g[m]=g[m]===na?e.left(m)+b(m).width():g[m]};e.clear=function(){c={};f={};g={}}}var Ya={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,
firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",
month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=n.fullCalendar={version:"1.5.2"},Ja=Aa.views={};n.fn.fullCalendar=function(a){if(typeof a=="string"){var b=
Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=n.data(this,"fullCalendar");if(f&&n.isFunction(f[a])){f=f[a].apply(f,b);if(e===na)e=f;a=="destroy"&&n.removeData(this,"fullCalendar")}});if(e!==na)return e;return this}var c=a.eventSources||[];delete a.eventSources;if(a.events){c.push(a.events);delete a.events}a=n.extend(true,{},Ya,a.isRTL||a.isRTL===na&&Ya.isRTL?yc:{},a);this.each(function(f,g){f=n(g);g=new Yb(f,a,c);f.data("fullCalendar",g);g.render()});return this};Aa.sourceNormalizers=
[];Aa.sourceFetchers=[];var ac={dataType:"json",cache:false},bc=1;Aa.addDays=ca;Aa.cloneDate=M;Aa.parseDate=kb;Aa.parseISO8601=Bb;Aa.parseTime=mb;Aa.formatDate=Oa;Aa.formatDates=ib;var lc=["sun","mon","tue","wed","thu","fri","sat"],Ab=864E5,cc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||
12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},
yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Aa.applyAll=$a;Ja.month=mc;Ja.basicWeek=nc;Ja.basicDay=oc;wb({weekMode:"fixed"});Ja.agendaWeek=qc;Ja.agendaDay=rc;wb({allDaySlot:true,
allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
