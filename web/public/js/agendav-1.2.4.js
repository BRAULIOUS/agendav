/**
 * Freeow!
 * Stylish, Growl-like message boxes
 *
 * Copyright (c) 2011 PJ Dietz
 * Version: 1.00
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * http://pjdietz.com/jquery-plugins/freeow/
 */
(function($){"use strict";var Freeow;Freeow=function(title,message,options){var startStyle,i,u;this.options=$.extend({},$.fn.freeow.defaults,options);this.element=$(this.options.template(title,message));if(this.options.startStyle){startStyle=this.options.startStyle;}
else{startStyle=this.options.hideStyle;}
this.element.css(startStyle);this.element.data("freeow",this);for(i=0,u=this.options.classes.length;i<u;i+=1){this.element.addClass(this.options.classes[i]);}
this.element.click(this.options.onClick);this.element.hover(this.options.onHover);this.autoHide=false;};Freeow.prototype={attach:function(container){$(container).prepend(this.element);this.show();},show:function(){var opts,self,fn,delay;opts={duration:this.showDuration};if(this.options.autoHide&&this.options.autoHideDelay>0){this.autoHide=true;self=this;delay=this.options.autoHideDelay;fn=function(){if(self.autoHide){self.hide();}};opts.complete=function(){setTimeout(fn,delay);};}
this.element.animate(this.options.showStyle,opts);},hide:function(){var self=this;this.element.animate(this.options.hideStyle,{duration:this.options.hideDuration,complete:function(){self.destroy();}});},destroy:function(){this.element.data("freeow",undefined);this.element.remove();}};if(typeof $.fn.freeow==="undefined"){$.fn.extend({freeow:function(title,message,options){return this.each(function(){var f;f=new Freeow(title,message,options);f.attach(this);});}});$.fn.freeow.defaults={autoHide:true,autoHideDelay:3000,classes:[],startStyle:null,showStyle:{opacity:1.0},showDuration:250,hideStyle:{opacity:0.0},hideDuration:500,onClick:function(event){$(this).data("freeow").hide();},onHover:function(event){$(this).data("freeow").autoHide=false;},template:function(title,message){var e;e=['<div>','<div class="background">','<div class="content">','<h2>'+title+'</h2>','<p>'+message+'</p>','</div>','</div>','<span class="icon"></span>','<span class="close"></span>','</div>'].join("");return e;}};}}(jQuery));/*

 FullCalendar v1.5.2
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Fri Dec 23 13:55:54 2011 +0100

*/
(function(n,na){function wb(a){n.extend(true,Ya,a)}function Yb(a,b,e){function c(k){if(B){u();q();oa();R(k)}else f()}function f(){z=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");B=n("<div class='fc-content' style='position:relative'/>").prependTo(a);F=new Zb(x,b);(O=F.render())&&a.prepend(O);A(b.defaultView);n(window).resize(pa);t()||g()}function g(){setTimeout(function(){!l.start&&t()&&R()},0)}function m(){n(window).unbind("resize",pa);F.destroy();
B.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return i.offsetWidth!==0}function t(){return n("body")[0].offsetWidth!==0}function A(k){if(!l||k!=l.name){G++;qa();var E=l,Z;if(E){(E.beforeHide||xb)();Za(B,B.height());E.element.hide()}else Za(B,1);B.css("overflow","hidden");if(l=X[k])l.element.show();else l=X[k]=new Ja[k](Z=s=n("<div class='fc-view fc-view-"+k+"' style='position:absolute'/>").appendTo(B),x);E&&F.deactivateButton(E.name);F.activateButton(k);R();B.css("overflow","");E&&
Za(B,1);Z||(l.afterShow||xb)();G--}}function R(k){if(j()){G++;qa();p===na&&u();var E=false;if(!l.start||k||r<l.start||r>=l.end){l.render(r,k||0);ga(true);E=true}else if(l.sizeDirty){l.clearEvents();ga();E=true}else if(l.eventsDirty){l.clearEvents();E=true}l.sizeDirty=false;l.eventsDirty=false;ha(E);W=a.outerWidth();F.updateTitle(l.title);k=new Date;k>=l.start&&k<l.end?F.disableButton("today"):F.enableButton("today");G--;l.trigger("viewDisplay",i)}}function P(){q();if(j()){u();ga();qa();l.clearEvents();
l.renderEvents(K);l.sizeDirty=false}}function q(){n.each(X,function(k,E){E.sizeDirty=true})}function u(){p=b.contentHeight?b.contentHeight:b.height?b.height-(O?O.height():0)-Sa(B):Math.round(B.width()/Math.max(b.aspectRatio,0.5))}function ga(k){G++;l.setHeight(p,k);if(s){s.css("position","relative");s=null}l.setWidth(B.width(),k);G--}function pa(){if(!G)if(l.start){var k=++v;setTimeout(function(){if(k==v&&!G&&j())if(W!=(W=a.outerWidth())){G++;P();l.trigger("windowResize",i);G--}},200)}else g()}function ha(k){if(!b.lazyFetching||
$(l.visStart,l.visEnd))ra();else k&&ea()}function ra(){C(l.visStart,l.visEnd)}function ta(k){K=k;ea()}function ia(k){ea(k)}function ea(k){oa();if(j()){l.clearEvents();l.renderEvents(K,k);l.eventsDirty=false}}function oa(){n.each(X,function(k,E){E.eventsDirty=true})}function va(k,E,Z){l.select(k,E,Z===na?true:Z)}function qa(){l&&l.unselect()}function S(){R(-1)}function da(){R(1)}function la(){gb(r,-1);R()}function sa(){gb(r,1);R()}function I(){r=new Date;R()}function o(k,E,Z){if(k instanceof Date)r=
M(k);else yb(r,k,E,Z);R()}function V(k,E,Z){k!==na&&gb(r,k);E!==na&&hb(r,E);Z!==na&&ca(r,Z);R()}function Y(){return M(r)}function T(){return l}function d(k,E){if(E===na)return b[k];if(k=="height"||k=="contentHeight"||k=="aspectRatio"){b[k]=E;P()}}function H(k,E){if(b[k])return b[k].apply(E||i,Array.prototype.slice.call(arguments,2))}var x=this;x.options=b;x.render=c;x.destroy=m;x.refetchEvents=ra;x.reportEvents=ta;x.reportEventChange=ia;x.rerenderEvents=ea;x.changeView=A;x.select=va;x.unselect=qa;
x.prev=S;x.next=da;x.prevYear=la;x.nextYear=sa;x.today=I;x.gotoDate=o;x.incrementDate=V;x.formatDate=function(k,E){return Oa(k,E,b)};x.formatDates=function(k,E,Z){return ib(k,E,Z,b)};x.getDate=Y;x.getView=T;x.option=d;x.trigger=H;$b.call(x,b,e);var $=x.isFetchNeeded,C=x.fetchEvents,i=a[0],F,O,B,z,l,X={},W,p,s,v=0,G=0,r=new Date,K=[],L;yb(r,b.year,b.month,b.date);b.droppable&&n(document).bind("dragstart",function(k,E){var Z=k.target,ka=n(Z);if(!ka.parents(".fc").length){var ja=b.dropAccept;if(n.isFunction(ja)?
ja.call(Z,ka):ka.is(ja)){L=Z;l.dragStart(L,k,E)}}}).bind("dragstop",function(k,E){if(L){l.dragStop(L,k,E);L=null}})}function Zb(a,b){function e(){q=b.theme?"ui":"fc";if(b.header)return P=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function c(){P.remove()}function f(u){var ga=n("<td class='fc-header-"+u+"'/>");(u=b.header[u])&&n.each(u.split(" "),function(pa){pa>0&&ga.append("<span class='fc-header-space'/>");var ha;
n.each(this.split(","),function(ra,ta){if(ta=="title"){ga.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ha&&ha.addClass(q+"-corner-right");ha=null}else{var ia;if(a[ta])ia=a[ta];else if(Ja[ta])ia=function(){oa.removeClass(q+"-state-hover");a.changeView(ta)};if(ia){ra=b.theme?jb(b.buttonIcons,ta):null;var ea=jb(b.buttonText,ta),oa=n("<span class='fc-button "+(q=="ui"?"ui-button":"")+" fc-button-"+ta+" "+q+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+
(ra?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+ra+"'/></span>":ea)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(oa){oa.click(function(){oa.hasClass(q+"-state-disabled")||ia()}).mousedown(function(){oa.not("."+q+"-state-active").not("."+q+"-state-disabled").addClass(q+"-state-down")}).mouseup(function(){oa.removeClass(q+"-state-down")}).hover(function(){oa.not("."+q+"-state-active").not("."+q+"-state-disabled").addClass(q+"-state-hover")},function(){oa.removeClass(q+
"-state-hover").removeClass(q+"-state-down")}).appendTo(ga);ha||oa.addClass(q+"-corner-left");ha=oa}}}});ha&&ha.addClass(q+"-corner-right")});return ga}function g(u){P.find("h2").html(u)}function m(u){P.find("span.fc-button-"+u).addClass(q+"-state-active")}function j(u){P.find("span.fc-button-"+u).removeClass(q+"-state-active")}function t(u){P.find("span.fc-button-"+u).addClass(q+"-state-disabled")}function A(u){P.find("span.fc-button-"+u).removeClass(q+"-state-disabled")}var R=this;R.render=e;R.destroy=
c;R.updateTitle=g;R.activateButton=m;R.deactivateButton=j;R.disableButton=t;R.enableButton=A;var P=n([]),q}function $b(a,b){function e(d,H){return!da||d<da||H>la}function c(d,H){da=d;la=H;sa=d.getTimezoneOffset()*60*1E3;I=H.getTimezoneOffset()*60*1E3;T=[];d=++o;V=H=S.length;for(var x=0;x<H;x++)f(S[x],d)}function f(d,H){g(d,function(x){if(H==o){if(x){for(var $=0;$<x.length;$++){x[$].source=d;pa(x[$])}T=T.concat(x)}V--;V||va(T)}})}function g(d,H){var x,$=Aa.sourceFetchers,C;for(x=0;x<$.length;x++){C=
$[x](d,da,la,H);if(C===true)return;else if(typeof C=="object"){g(C,H);return}}if(x=d.events)if(n.isFunction(x)){u();x(M(da),M(la),function(z){H(z);ga()})}else n.isArray(x)?H(x):H();else if(d.url){var i=d.success,F=d.error,O=d.complete;x=n.extend({},d.data||{});C=Ta(d.startParam,a.startParam);$=Ta(d.endParam,a.endParam);if(C){var B=da;if(d.startParamUTC)B-=sa;x[C]=Math.round(+B/1E3)}if($){C=la;if(d.endParamUTC)C-=I;x[$]=Math.round(+C/1E3)}u();n.ajax(n.extend({},ac,d,{data:x,success:function(z){z=z||
[];var l=$a(i,this,arguments);if(n.isArray(l))z=l;H(z)},error:function(){$a(F,this,arguments);H()},complete:function(){$a(O,this,arguments);ga()}}))}else H()}function m(d){if(d=j(d)){V++;f(d,o)}}function j(d){if(n.isFunction(d)||n.isArray(d))d={events:d};else if(typeof d=="string")d={url:d};if(typeof d=="object"){ha(d);S.push(d);return d}}function t(d){S=n.grep(S,function(H){return!ra(H,d)});T=n.grep(T,function(H){return!ra(H.source,d)});va(T)}function A(d){var H,x=T.length,$,C=oa().defaultEventEnd,
i=d.start-d._start,F=d.end?d.end-(d._end||C(d)):0;for(H=0;H<x;H++){$=T[H];if($._id==d._id&&$!=d){$.start=new Date(+$.start+i);$.end=d.end?$.end?new Date(+$.end+F):new Date(+C($)+F):null;$.title=d.title;$.url=d.url;$.allDay=d.allDay;$.className=d.className;$.editable=d.editable;$.color=d.color;$.backgroudColor=d.backgroudColor;$.borderColor=d.borderColor;$.textColor=d.textColor;pa($)}}pa(d);va(T)}function R(d,H){pa(d);if(!d.source){if(H){qa.events.push(d);d.source=qa}T.push(d)}va(T)}function P(d){if(d){if(!n.isFunction(d)){var H=
d+"";d=function($){return $._id==H}}T=n.grep(T,d,true);for(x=0;x<S.length;x++)if(n.isArray(S[x].events))S[x].events=n.grep(S[x].events,d,true)}else{T=[];for(var x=0;x<S.length;x++)if(n.isArray(S[x].events))S[x].events=[]}va(T)}function q(d){if(n.isFunction(d))return n.grep(T,d);else if(d){d+="";return n.grep(T,function(H){return H._id==d})}return T}function u(){Y++||ea("loading",null,true)}function ga(){--Y||ea("loading",null,false)}function pa(d){var H=d.source||{},x=Ta(H.ignoreTimezone,a.ignoreTimezone);
d._id=d._id||(d.id===na?"_fc"+bc++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=M(d.start=kb(d.start,x));d.end=kb(d.end,x);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?M(d.end):null;if(d.allDay===na)d.allDay=Ta(H.allDayDefault,a.allDayDefault);if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[]}function ha(d){if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];for(var H=
Aa.sourceNormalizers,x=0;x<H.length;x++)H[x](d)}function ra(d,H){return d&&H&&ta(d)==ta(H)}function ta(d){return(typeof d=="object"?d.events||d.url:"")||d}var ia=this;ia.isFetchNeeded=e;ia.fetchEvents=c;ia.addEventSource=m;ia.removeEventSource=t;ia.updateEvent=A;ia.renderEvent=R;ia.removeEvents=P;ia.clientEvents=q;ia.normalizeEvent=pa;var ea=ia.trigger,oa=ia.getView,va=ia.reportEvents,qa={events:[]},S=[qa],da,la,sa,I,o=0,V=0,Y=0,T=[];for(ia=0;ia<b.length;ia++)j(b[ia])}function gb(a,b,e){a.setFullYear(a.getFullYear()+
b);e||Ka(a);return a}function hb(a,b,e){if(+a){b=a.getMonth()+b;var c=M(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(e||Ka(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}function ca(a,b,e){if(+a){b=a.getDate()+b;var c=M(a);c.setHours(9);c.setDate(b);a.setDate(b);e||Ka(a);lb(a,c)}return a}function lb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function ya(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ka(a){a.setHours(0);a.setMinutes(0);
a.setSeconds(0);a.setMilliseconds(0);return a}function M(a,b){if(b)return Ka(new Date(+a));return new Date(+a)}function zb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Fa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)ca(a,b);return a}function Ca(a,b){return Math.round((M(a,true)-M(b,true))/Ab)}function yb(a,b,e,c){if(b!==na&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==na&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}c!==
na&&a.setDate(c)}function kb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===na)b=true;return Bb(a,b)||(a?new Date(a):null)}return null}function Bb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,
1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}lb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);lb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function mb(a){if(typeof a=="number")return a*
60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Oa(a,b,e){return ib(a,null,b,e)}function ib(a,b,e,c){c=c||Ya;var f=a,g=b,m,j=e.length,t,A,R,P="";for(m=0;m<j;m++){t=e.charAt(m);if(t=="'")for(A=m+1;A<j;A++){if(e.charAt(A)=="'"){if(f){P+=A==m+1?"'":e.substring(m+1,A);m=A}break}}else if(t=="(")for(A=m+1;A<j;A++){if(e.charAt(A)==
")"){m=Oa(f,e.substring(m+1,A),c);if(parseInt(m.replace(/\D/,""),10))P+=m;m=A;break}}else if(t=="[")for(A=m+1;A<j;A++){if(e.charAt(A)=="]"){t=e.substring(m+1,A);m=Oa(f,t,c);if(m!=Oa(g,t,c))P+=m;m=A;break}}else if(t=="{"){f=b;g=a}else if(t=="}"){f=a;g=b}else{for(A=j;A>m;A--)if(R=dc[e.substring(m,A)]){if(f)P+=R(f,c);m=A-1;break}if(A==m)if(f)P+=t}}return P}function Ua(a){return a.end?ec(a.end,a.allDay):ca(M(a.start),1)}function ec(a,b){a=M(a);return b||a.getHours()||a.getMinutes()?ca(a,1):Ka(a)}function fc(a,
b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Cb(a,b){return a.end>b.start&&a.start<b.end}function nb(a,b,e,c){var f=[],g,m=a.length,j,t,A,R,P;for(g=0;g<m;g++){j=a[g];t=j.start;A=b[g];if(A>e&&t<c){if(t<e){t=M(e);R=false}else{t=t;R=true}if(A>c){A=M(c);P=false}else{A=A;P=true}f.push({event:j,start:t,end:A,isStart:R,isEnd:P,msLength:A-t})}}return f.sort(fc)}function ob(a){var b=[],e,c=a.length,f,g,m,j;for(e=0;e<c;e++){f=a[e];for(g=0;;){m=false;if(b[g])for(j=0;j<b[g].length;j++)if(Cb(b[g][j],
f)){m=true;break}if(m)g++;else break}if(b[g])b[g].push(f);else b[g]=[f]}return b}function Db(a,b,e){a.unbind("mouseover").mouseover(function(c){for(var f=c.target,g;f!=this;){g=f;f=f.parentNode}if((f=g._fci)!==na){g._fci=na;g=b[f];e(g.event,g.element,g);n(c.target).trigger(c)}c.stopPropagation()})}function Va(a,b,e){for(var c=0,f;c<a.length;c++){f=n(a[c]);f.width(Math.max(0,b-pb(f,e)))}}function Eb(a,b,e){for(var c=0,f;c<a.length;c++){f=n(a[c]);f.height(Math.max(0,b-Sa(f,e)))}}function pb(a,b){return gc(a)+
hc(a)+(b?ic(a):0)}function gc(a){return(parseFloat(n.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(n.curCSS(a[0],"paddingRight",true))||0)}function ic(a){return(parseFloat(n.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(n.curCSS(a[0],"marginRight",true))||0)}function hc(a){return(parseFloat(n.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(n.curCSS(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return jc(a)+kc(a)+(b?Fb(a):0)}function jc(a){return(parseFloat(n.curCSS(a[0],"paddingTop",
true))||0)+(parseFloat(n.curCSS(a[0],"paddingBottom",true))||0)}function Fb(a){return(parseFloat(n.curCSS(a[0],"marginTop",true))||0)+(parseFloat(n.curCSS(a[0],"marginBottom",true))||0)}function kc(a){return(parseFloat(n.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(n.curCSS(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Gb(a,b){return a-b}function Hb(a){return Math.max.apply(Math,
a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==na)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,c;e>=0;e--){c=a[b[e].toLowerCase()];if(c!==na)return c}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ib(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function qb(a){a.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ab(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function rb(a,b){a.each(function(e,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+lc[b.getDay()])})}function Jb(a,b){var e=a.source||{},c=a.color,f=e.color,g=b("eventColor"),m=a.backgroundColor||c||e.backgroundColor||f||b("eventBackgroundColor")||g;c=a.borderColor||
c||e.borderColor||f||b("eventBorderColor")||g;a=a.textColor||e.textColor||b("eventTextColor");b=[];m&&b.push("background-color:"+m);c&&b.push("border-color:"+c);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,e){if(n.isFunction(a))a=[a];if(a){var c,f;for(c=0;c<a.length;c++)f=a[c].apply(b,e)||f;return f}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==na)return arguments[a]}function mc(a,b){function e(j,t){if(t){hb(j,t);j.setDate(1)}j=M(j,true);j.setDate(1);t=hb(M(j),1);
var A=M(j),R=M(t),P=f("firstDay"),q=f("weekends")?0:1;if(q){Fa(A);Fa(R,-1,true)}ca(A,-((A.getDay()-Math.max(P,q)+7)%7));ca(R,(7-R.getDay()+Math.max(P,q))%7);P=Math.round((R-A)/(Ab*7));if(f("weekMode")=="fixed"){ca(R,(6-P)*7);P=6}c.title=m(j,f("titleFormat"));c.start=j;c.end=t;c.visStart=A;c.visEnd=R;g(6,P,q?5:7,true)}var c=this;c.render=e;sb.call(c,a,b,"month");var f=c.opt,g=c.renderBasic,m=b.formatDate}function nc(a,b){function e(j,t){t&&ca(j,t*7);j=ca(M(j),-((j.getDay()-f("firstDay")+7)%7));t=ca(M(j),
7);var A=M(j),R=M(t),P=f("weekends");if(!P){Fa(A);Fa(R,-1,true)}c.title=m(A,ca(M(R),-1),f("titleFormat"));c.start=j;c.end=t;c.visStart=A;c.visEnd=R;g(1,1,P?7:5,false)}var c=this;c.render=e;sb.call(c,a,b,"basicWeek");var f=c.opt,g=c.renderBasic,m=b.formatDates}function oc(a,b){function e(j,t){if(t){ca(j,t);f("weekends")||Fa(j,t<0?-1:1)}c.title=m(j,f("titleFormat"));c.start=c.visStart=M(j,true);c.end=c.visEnd=ca(M(c.start),1);g(1,1,1,false)}var c=this;c.render=e;sb.call(c,a,b,"basicDay");var f=c.opt,
g=c.renderBasic,m=b.formatDate}function sb(a,b,e){function c(w,J,Q,U){v=J;G=Q;f();(J=!F)?g(w,U):T();m(J)}function f(){if(k=V("isRTL")){E=-1;Z=G-1}else{E=1;Z=0}ka=V("firstDay");ja=V("weekends")?0:1;ma=V("theme")?"ui":"fc";aa=V("columnFormat")}function g(w,J){var Q,U=ma+"-widget-header",fa=ma+"-widget-content",ba;Q="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ba=0;ba<G;ba++)Q+="<th class='fc- "+U+"'/>";Q+="</tr></thead><tbody>";for(ba=0;ba<w;ba++){Q+="<tr class='fc-week"+
ba+"'>";for(U=0;U<G;U++)Q+="<td class='fc- "+fa+" fc-day"+(ba*G+U)+"'><div>"+(J?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";Q+="</tr>"}Q+="</tbody></table>";w=n(Q).appendTo(a);C=w.find("thead");i=C.find("th");F=w.find("tbody");O=F.find("tr");B=F.find("td");z=B.filter(":first-child");l=O.eq(0).find("div.fc-day-content div");ab(C.add(C.find("tr")));ab(O);O.eq(0).addClass("fc-first");A(B);X=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}
function m(w){var J=w||v==1,Q=o.start.getMonth(),U=Ka(new Date),fa,ba,wa;J&&i.each(function(xa,Ga){fa=n(Ga);ba=da(xa);fa.html($(ba,aa));rb(fa,ba)});B.each(function(xa,Ga){fa=n(Ga);ba=da(xa);ba.getMonth()==Q?fa.removeClass("fc-other-month"):fa.addClass("fc-other-month");+ba==+U?fa.addClass(ma+"-state-highlight fc-today"):fa.removeClass(ma+"-state-highlight fc-today");fa.find("div.fc-day-number").text(ba.getDate());J&&rb(fa,ba)});O.each(function(xa,Ga){wa=n(Ga);if(xa<v){wa.show();xa==v-1?wa.addClass("fc-last"):
wa.removeClass("fc-last")}else wa.hide()})}function j(w){p=w;w=p-C.height();var J,Q,U;if(V("weekMode")=="variable")J=Q=Math.floor(w/(v==1?2:6));else{J=Math.floor(w/v);Q=w-J*(v-1)}z.each(function(fa,ba){if(fa<v){U=n(ba);Za(U.find("> div"),(fa==v-1?Q:J)-Sa(U))}})}function t(w){W=w;L.clear();s=Math.floor(W/G);Va(i.slice(0,-1),s)}function A(w){w.click(R).mousedown(x)}function R(w){if(!V("selectable")){var J=parseInt(this.className.match(/fc\-day(\d+)/)[1]);J=da(J);Y("dayClick",this,J,true,w)}}function P(w,
J,Q){Q&&r.build();Q=M(o.visStart);for(var U=ca(M(Q),G),fa=0;fa<v;fa++){var ba=new Date(Math.max(Q,w)),wa=new Date(Math.min(U,J));if(ba<wa){var xa;if(k){xa=Ca(wa,Q)*E+Z+1;ba=Ca(ba,Q)*E+Z+1}else{xa=Ca(ba,Q);ba=Ca(wa,Q)}A(q(fa,xa,fa,ba-1))}ca(Q,7);ca(U,7)}}function q(w,J,Q,U){w=r.rect(w,J,Q,U,a);return d(w,a)}function u(w){return M(w)}function ga(w,J){P(w,ca(M(J),1),true)}function pa(){H()}function ha(w,J,Q){var U=va(w);Y("dayClick",B[U.row*G+U.col],w,J,Q)}function ra(w,J){K.start(function(Q){H();Q&&
q(Q.row,Q.col,Q.row,Q.col)},J)}function ta(w,J,Q){var U=K.stop();H();if(U){U=qa(U);Y("drop",w,U,true,J,Q)}}function ia(w){return M(w.start)}function ea(w){return L.left(w)}function oa(w){return L.right(w)}function va(w){return{row:Math.floor(Ca(w,o.visStart)/7),col:la(w.getDay())}}function qa(w){return S(w.row,w.col)}function S(w,J){return ca(M(o.visStart),w*7+J*E+Z)}function da(w){return S(Math.floor(w/G),w%G)}function la(w){return(w-Math.max(ka,ja)+G)%G*E+Z}function sa(w){return O.eq(w)}function I(){return{left:0,
right:W}}var o=this;o.renderBasic=c;o.setHeight=j;o.setWidth=t;o.renderDayOverlay=P;o.defaultSelectionEnd=u;o.renderSelection=ga;o.clearSelection=pa;o.reportDayClick=ha;o.dragStart=ra;o.dragStop=ta;o.defaultEventEnd=ia;o.getHoverListener=function(){return K};o.colContentLeft=ea;o.colContentRight=oa;o.dayOfWeekCol=la;o.dateCell=va;o.cellDate=qa;o.cellIsAllDay=function(){return true};o.allDayRow=sa;o.allDayBounds=I;o.getRowCnt=function(){return v};o.getColCnt=function(){return G};o.getColWidth=function(){return s};
o.getDaySegmentContainer=function(){return X};Kb.call(o,a,b,e);Lb.call(o);Mb.call(o);pc.call(o);var V=o.opt,Y=o.trigger,T=o.clearEvents,d=o.renderOverlay,H=o.clearOverlays,x=o.daySelectionMousedown,$=b.formatDate,C,i,F,O,B,z,l,X,W,p,s,v,G,r,K,L,k,E,Z,ka,ja,ma,aa;qb(a.addClass("fc-grid"));r=new Nb(function(w,J){var Q,U,fa;i.each(function(ba,wa){Q=n(wa);U=Q.offset().left;if(ba)fa[1]=U;fa=[U];J[ba]=fa});fa[1]=U+Q.outerWidth();O.each(function(ba,wa){if(ba<v){Q=n(wa);U=Q.offset().top;if(ba)fa[1]=U;fa=
[U];w[ba]=fa}});fa[1]=U+Q.outerHeight()});K=new Ob(r);L=new Pb(function(w){return l.eq(w)})}function pc(){function a(S,da){R(S);va(e(S),da)}function b(){P();ha().empty()}function e(S){var da=ea(),la=oa(),sa=M(g.visStart);la=ca(M(sa),la);var I=n.map(S,Ua),o,V,Y,T,d,H,x=[];for(o=0;o<da;o++){V=ob(nb(S,I,sa,la));for(Y=0;Y<V.length;Y++){T=V[Y];for(d=0;d<T.length;d++){H=T[d];H.row=o;H.level=Y;x.push(H)}}ca(sa,7);ca(la,7)}return x}function c(S,da,la){t(S)&&f(S,da);la.isEnd&&A(S)&&qa(S,da,la);q(S,da)}function f(S,
da){var la=ra(),sa;da.draggable({zIndex:9,delay:50,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(I,o){j("eventDragStart",da,S,I,o);ga(S,da);la.start(function(V,Y,T,d){da.draggable("option","revert",!V||!T&&!d);ia();if(V){sa=T*7+d*(m("isRTL")?-1:1);ta(ca(M(S.start),sa),ca(Ua(S),sa))}else sa=0},I,"drag")},stop:function(I,o){la.stop();ia();j("eventDragStop",da,S,I,o);if(sa)pa(this,S,sa,0,S.allDay,I,o);else{da.css("filter","");u(S,da)}}})}var g=this;g.renderEvents=a;g.compileDaySegs=
e;g.clearEvents=b;g.bindDaySeg=c;Qb.call(g);var m=g.opt,j=g.trigger,t=g.isEventDraggable,A=g.isEventResizable,R=g.reportEvents,P=g.reportEventClear,q=g.eventElementHandlers,u=g.showEvents,ga=g.hideEvents,pa=g.eventDrop,ha=g.getDaySegmentContainer,ra=g.getHoverListener,ta=g.renderDayOverlay,ia=g.clearOverlays,ea=g.getRowCnt,oa=g.getColCnt,va=g.renderDaySegs,qa=g.resizableDayEvent}function qc(a,b){function e(j,t){t&&ca(j,t*7);j=ca(M(j),-((j.getDay()-f("firstDay")+7)%7));t=ca(M(j),7);var A=M(j),R=M(t),
P=f("weekends");if(!P){Fa(A);Fa(R,-1,true)}c.title=m(A,ca(M(R),-1),f("titleFormat"));c.start=j;c.end=t;c.visStart=A;c.visEnd=R;g(P?7:5)}var c=this;c.render=e;Rb.call(c,a,b,"agendaWeek");var f=c.opt,g=c.renderAgenda,m=b.formatDates}function rc(a,b){function e(j,t){if(t){ca(j,t);f("weekends")||Fa(j,t<0?-1:1)}t=M(j,true);var A=ca(M(t),1);c.title=m(j,f("titleFormat"));c.start=c.visStart=t;c.end=c.visEnd=A;g(1)}var c=this;c.render=e;Rb.call(c,a,b,"agendaDay");var f=c.opt,g=c.renderAgenda,m=b.formatDate}
function Rb(a,b,e){function c(h){Ba=h;f();v?O():g();m()}function f(){Wa=i("theme")?"ui":"fc";Sb=i("weekends")?0:1;Tb=i("firstDay");if(Ub=i("isRTL")){Ha=-1;Ia=Ba-1}else{Ha=1;Ia=0}La=mb(i("minTime"));bb=mb(i("maxTime"));Vb=i("columnFormat")}function g(){var h=Wa+"-widget-header",N=Wa+"-widget-content",y,D,ua,za,Da,Ea=i("slotMinutes")%15==0;y="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(D=0;D<Ba;D++)y+=
"<th class='fc- fc-col"+D+" "+h+"'/>";y+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(D=0;D<Ba;D++)y+="<td class='fc- fc-col"+D+" "+N+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";y+="<td class='fc-agenda-gutter "+N+"'>&nbsp;</td></tr></tbody></table>";v=n(y).appendTo(a);G=v.find("thead");r=G.find("th").slice(1,-1);K=v.find("tbody");L=K.find("td").slice(0,-1);k=L.find("div.fc-day-content div");
E=L.eq(0);Z=E.find("> div");ab(G.add(G.find("tr")));ab(K.add(K.find("tr")));ba=G.find("th:first");wa=v.find(".fc-agenda-gutter");ka=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(i("allDaySlot")){ja=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ka);y="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+i("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ma=n(y).appendTo(ka);aa=ma.find("tr");q(aa.find("td"));ba=ba.add(ma.find("th:first"));wa=wa.add(ma.find("th.fc-agenda-gutter"));ka.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")}else ja=n([]);w=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ka);J=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(w);Q=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(J);
y="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ua=zb();za=ya(M(ua),bb);ya(ua,La);for(D=tb=0;ua<za;D++){Da=ua.getMinutes();y+="<tr class='fc-slot"+D+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Ea||!Da?s(ua,i("axisFormat")):"&nbsp;")+"</th><td class='"+N+"'><div style='position:relative'>&nbsp;</div></td></tr>";ya(ua,i("slotMinutes"));tb++}y+="</tbody></table>";U=n(y).appendTo(J);fa=U.find("div:first");u(U.find("td"));ba=ba.add(U.find("th:first"))}
function m(){var h,N,y,D,ua=Ka(new Date);for(h=0;h<Ba;h++){D=va(h);N=r.eq(h);N.html(s(D,Vb));y=L.eq(h);+D==+ua?y.addClass(Wa+"-state-highlight fc-today"):y.removeClass(Wa+"-state-highlight fc-today");rb(N.add(y),D)}}function j(h,N){if(h===na)h=Wb;Wb=h;ub={};var y=K.position().top,D=w.position().top;h=Math.min(h-y,U.height()+D+1);Z.height(h-Sa(E));ka.css("top",y);w.height(h-D-1);Xa=fa.height()+1;N&&A()}function t(h){Ga=h;cb.clear();Ma=0;Va(ba.width("").each(function(N,y){Ma=Math.max(Ma,n(y).outerWidth())}),
Ma);h=w[0].clientWidth;if(vb=w.width()-h){Va(wa,vb);wa.show().prev().removeClass("fc-last")}else wa.hide().prev().addClass("fc-last");db=Math.floor((h-Ma)/Ba);Va(r.slice(0,-1),db)}function A(){function h(){w.scrollTop(D)}var N=zb(),y=M(N);y.setHours(i("firstHour"));var D=da(N,y)+1;h();setTimeout(h,0)}function R(){Xb=w.scrollTop()}function P(){w.scrollTop(Xb)}function q(h){h.click(ga).mousedown(W)}function u(h){h.click(ga).mousedown(d)}function ga(h){if(!i("selectable")){var N=Math.min(Ba-1,Math.floor((h.pageX-
v.offset().left-Ma)/db)),y=va(N),D=this.parentNode.className.match(/fc-slot(\d+)/);if(D){D=parseInt(D[1])*i("slotMinutes");var ua=Math.floor(D/60);y.setHours(ua);y.setMinutes(D%60+La);F("dayClick",L[N],y,false,h)}else F("dayClick",L[N],y,true,h)}}function pa(h,N,y){y&&Na.build();var D=M(C.visStart);if(Ub){y=Ca(N,D)*Ha+Ia+1;h=Ca(h,D)*Ha+Ia+1}else{y=Ca(h,D);h=Ca(N,D)}y=Math.max(0,y);h=Math.min(Ba,h);y<h&&q(ha(0,y,0,h-1))}function ha(h,N,y,D){h=Na.rect(h,N,y,D,ka);return B(h,ka)}function ra(h,N){for(var y=
M(C.visStart),D=ca(M(y),1),ua=0;ua<Ba;ua++){var za=new Date(Math.max(y,h)),Da=new Date(Math.min(D,N));if(za<Da){var Ea=ua*Ha+Ia;Ea=Na.rect(0,Ea,0,Ea,J);za=da(y,za);Da=da(y,Da);Ea.top=za;Ea.height=Da-za;u(B(Ea,J))}ca(y,1);ca(D,1)}}function ta(h){return cb.left(h)}function ia(h){return cb.right(h)}function ea(h){return{row:Math.floor(Ca(h,C.visStart)/7),col:S(h.getDay())}}function oa(h){var N=va(h.col);h=h.row;i("allDaySlot")&&h--;h>=0&&ya(N,La+h*i("slotMinutes"));return N}function va(h){return ca(M(C.visStart),
h*Ha+Ia)}function qa(h){return i("allDaySlot")&&!h.row}function S(h){return(h-Math.max(Tb,Sb)+Ba)%Ba*Ha+Ia}function da(h,N){h=M(h,true);if(N<ya(M(h),La))return 0;if(N>=ya(M(h),bb))return U.height();h=i("slotMinutes");N=N.getHours()*60+N.getMinutes()-La;var y=Math.floor(N/h),D=ub[y];if(D===na)D=ub[y]=U.find("tr:eq("+y+") td div")[0].offsetTop;return Math.max(0,Math.round(D-1+Xa*(N%h/h)))}function la(){return{left:Ma,right:Ga-vb}}function sa(){return aa}function I(h){var N=M(h.start);if(h.allDay)return N;
return ya(N,i("defaultEventMinutes"))}function o(h,N){if(N)return M(h);return ya(M(h),i("slotMinutes"))}function V(h,N,y){if(y)i("allDaySlot")&&pa(h,ca(M(N),1),true);else Y(h,N)}function Y(h,N){var y=i("selectHelper");Na.build();if(y){var D=Ca(h,C.visStart)*Ha+Ia;if(D>=0&&D<Ba){D=Na.rect(0,D,0,D,J);var ua=da(h,h),za=da(h,N);if(za>ua){D.top=ua;D.height=za-ua;D.left+=2;D.width-=5;if(n.isFunction(y)){if(h=y(h,N)){D.position="absolute";D.zIndex=8;xa=n(h).css(D).appendTo(J)}}else{D.isStart=true;D.isEnd=
true;xa=n(p({title:"",start:h,end:N,className:["fc-select-helper"],editable:false},D));xa.css("opacity",i("dragOpacity"))}if(xa){u(xa);J.append(xa);Va(xa,D.width,true);Eb(xa,D.height,true)}}}}else ra(h,N)}function T(){z();if(xa){xa.remove();xa=null}}function d(h){if(h.which==1&&i("selectable")){X(h);var N;Ra.start(function(y,D){T();if(y&&y.col==D.col&&!qa(y)){D=oa(D);y=oa(y);N=[D,ya(M(D),i("slotMinutes")),y,ya(M(y),i("slotMinutes"))].sort(Gb);Y(N[0],N[3])}else N=null},h);n(document).one("mouseup",
function(y){Ra.stop();if(N){+N[0]==+N[1]&&H(N[0],false,y);l(N[0],N[3],false,y)}})}}function H(h,N,y){F("dayClick",L[S(h.getDay())],h,N,y)}function x(h,N){Ra.start(function(y){z();if(y)if(qa(y))ha(y.row,y.col,y.row,y.col);else{y=oa(y);var D=ya(M(y),i("defaultEventMinutes"));ra(y,D)}},N)}function $(h,N,y){var D=Ra.stop();z();D&&F("drop",h,oa(D),qa(D),N,y)}var C=this;C.renderAgenda=c;C.setWidth=t;C.setHeight=j;C.beforeHide=R;C.afterShow=P;C.defaultEventEnd=I;C.timePosition=da;C.dayOfWeekCol=S;C.dateCell=
ea;C.cellDate=oa;C.cellIsAllDay=qa;C.allDayRow=sa;C.allDayBounds=la;C.getHoverListener=function(){return Ra};C.colContentLeft=ta;C.colContentRight=ia;C.getDaySegmentContainer=function(){return ja};C.getSlotSegmentContainer=function(){return Q};C.getMinMinute=function(){return La};C.getMaxMinute=function(){return bb};C.getBodyContent=function(){return J};C.getRowCnt=function(){return 1};C.getColCnt=function(){return Ba};C.getColWidth=function(){return db};C.getSlotHeight=function(){return Xa};C.defaultSelectionEnd=
o;C.renderDayOverlay=pa;C.renderSelection=V;C.clearSelection=T;C.reportDayClick=H;C.dragStart=x;C.dragStop=$;Kb.call(C,a,b,e);Lb.call(C);Mb.call(C);sc.call(C);var i=C.opt,F=C.trigger,O=C.clearEvents,B=C.renderOverlay,z=C.clearOverlays,l=C.reportSelection,X=C.unselect,W=C.daySelectionMousedown,p=C.slotSegHtml,s=b.formatDate,v,G,r,K,L,k,E,Z,ka,ja,ma,aa,w,J,Q,U,fa,ba,wa,xa,Ga,Wb,Ma,db,vb,Xa,Xb,Ba,tb,Na,Ra,cb,ub={},Wa,Tb,Sb,Ub,Ha,Ia,La,bb,Vb;qb(a.addClass("fc-agenda"));Na=new Nb(function(h,N){function y(eb){return Math.max(Ea,
Math.min(tc,eb))}var D,ua,za;r.each(function(eb,uc){D=n(uc);ua=D.offset().left;if(eb)za[1]=ua;za=[ua];N[eb]=za});za[1]=ua+D.outerWidth();if(i("allDaySlot")){D=aa;ua=D.offset().top;h[0]=[ua,ua+D.outerHeight()]}for(var Da=J.offset().top,Ea=w.offset().top,tc=Ea+w.outerHeight(),fb=0;fb<tb;fb++)h.push([y(Da+Xa*fb),y(Da+Xa*(fb+1))])});Ra=new Ob(Na);cb=new Pb(function(h){return k.eq(h)})}function sc(){function a(p,s){ta(p);var v,G=p.length,r=[],K=[];for(v=0;v<G;v++)p[v].allDay?r.push(p[v]):K.push(p[v]);
if(u("allDaySlot")){V(e(r),s);oa()}g(c(K),s)}function b(){ia();va().empty();qa().empty()}function e(p){p=ob(nb(p,n.map(p,Ua),q.visStart,q.visEnd));var s,v=p.length,G,r,K,L=[];for(s=0;s<v;s++){G=p[s];for(r=0;r<G.length;r++){K=G[r];K.row=0;K.level=s;L.push(K)}}return L}function c(p){var s=T(),v=la(),G=da(),r=ya(M(q.visStart),v),K=n.map(p,f),L,k,E,Z,ka,ja,ma=[];for(L=0;L<s;L++){k=ob(nb(p,K,r,ya(M(r),G-v)));vc(k);for(E=0;E<k.length;E++){Z=k[E];for(ka=0;ka<Z.length;ka++){ja=Z[ka];ja.col=L;ja.level=E;ma.push(ja)}}ca(r,
1,true)}return ma}function f(p){return p.end?M(p.end):ya(M(p.start),u("defaultEventMinutes"))}function g(p,s){var v,G=p.length,r,K,L,k,E,Z,ka,ja,ma,aa="",w,J,Q={},U={},fa=qa(),ba;v=T();if(w=u("isRTL")){J=-1;ba=v-1}else{J=1;ba=0}for(v=0;v<G;v++){r=p[v];K=r.event;L=sa(r.start,r.start);k=sa(r.start,r.end);E=r.col;Z=r.level;ka=r.forward||0;ja=I(E*J+ba);ma=o(E*J+ba)-ja;ma=Math.min(ma-6,ma*0.95);E=Z?ma/(Z+ka+1):ka?(ma/(ka+1)-6)*2:ma;Z=ja+ma/(Z+ka+1)*Z*J+(w?ma-E:0);r.top=L;r.left=Z;r.outerWidth=E;r.outerHeight=
k-L;aa+=m(K,r)}fa[0].innerHTML=aa;w=fa.children();for(v=0;v<G;v++){r=p[v];K=r.event;aa=n(w[v]);J=ga("eventRender",K,K,aa);if(J===false)aa.remove();else{if(J&&J!==true){aa.remove();aa=n(J).css({position:"absolute",top:r.top,left:r.left}).appendTo(fa)}r.element=aa;if(K._id===s)t(K,aa,r);else aa[0]._fci=v;$(K,aa)}}Db(fa,p,t);for(v=0;v<G;v++){r=p[v];if(aa=r.element){K=Q[s=r.key=Ib(aa[0])];r.vsides=K===na?(Q[s]=Sa(aa,true)):K;K=U[s];r.hsides=K===na?(U[s]=pb(aa,true)):K;s=aa.find("div.fc-event-content");
if(s.length)r.contentTop=s[0].offsetTop}}for(v=0;v<G;v++){r=p[v];if(aa=r.element){aa[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px";Q=Math.max(0,r.outerHeight-r.vsides);aa[0].style.height=Q+"px";K=r.event;if(r.contentTop!==na&&Q-r.contentTop<10){aa.find("div.fc-event-time").text(X(K.start,u("timeFormat"))+" - "+K.title);aa.find("div.fc-event-title").remove()}ga("eventAfterRender",K,K,aa)}}}function m(p,s){var v="<",G=p.url,r=Jb(p,u),K=r?" style='"+r+"'":"",L=["fc-event","fc-event-skin","fc-event-vert"];
pa(p)&&L.push("fc-event-draggable");s.isStart&&L.push("fc-corner-top");s.isEnd&&L.push("fc-corner-bottom");L=L.concat(p.className);if(p.source)L=L.concat(p.source.className||[]);v+=G?"a href='"+Qa(p.url)+"'":"div";v+=" class='"+L.join(" ")+"' style='position:absolute;z-index:8;top:"+s.top+"px;left:"+s.left+"px;"+r+"'><div class='fc-event-inner fc-event-skin'"+K+"><div class='fc-event-head fc-event-skin'"+K+"><div class='fc-event-time'>"+Qa(W(p.start,p.end,u("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
Qa(p.title)+"</div></div><div class='fc-event-bg'></div></div>";if(s.isEnd&&ha(p))v+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";v+="</"+(G?"a":"div")+">";return v}function j(p,s,v){pa(p)&&A(p,s,v.isStart);v.isEnd&&ha(p)&&Y(p,s,v);ea(p,s)}function t(p,s,v){var G=s.find("div.fc-event-time");pa(p)&&R(p,s,G);v.isEnd&&ha(p)&&P(p,s,G);ea(p,s)}function A(p,s,v){function G(){if(!L){s.width(r).height("").draggable("option","grid",null);L=true}}var r,K,L=true,k,E=u("isRTL")?-1:1,Z=S(),ka=d(),
ja=H(),ma=la();s.draggable({zIndex:9,opacity:u("dragOpacity","month"),revertDuration:u("dragRevertDuration"),start:function(aa,w){ga("eventDragStart",s,p,aa,w);i(p,s);r=s.width();Z.start(function(J,Q,U,fa){z();if(J){K=false;k=fa*E;if(J.row)if(v){if(L){s.width(ka-10);Eb(s,ja*Math.round((p.end?(p.end-p.start)/wc:u("defaultEventMinutes"))/u("slotMinutes")));s.draggable("option","grid",[ka,1]);L=false}}else K=true;else{B(ca(M(p.start),k),ca(Ua(p),k));G()}K=K||L&&!k}else{G();K=true}s.draggable("option",
"revert",K)},aa,"drag")},stop:function(aa,w){Z.stop();z();ga("eventDragStop",s,p,aa,w);if(K){G();s.css("filter","");C(p,s)}else{var J=0;L||(J=Math.round((s.offset().top-x().offset().top)/ja)*u("slotMinutes")+ma-(p.start.getHours()*60+p.start.getMinutes()));F(this,p,k,J,L,aa,w)}}})}function R(p,s,v){function G(J){var Q=ya(M(p.start),J),U;if(p.end)U=ya(M(p.end),J);v.text(W(Q,U,u("timeFormat")))}function r(){if(L){v.css("display","");s.draggable("option","grid",[aa,w]);L=false}}var K,L=false,k,E,Z,ka=
u("isRTL")?-1:1,ja=S(),ma=T(),aa=d(),w=H();s.draggable({zIndex:9,scroll:false,grid:[aa,w],axis:ma==1?"y":false,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(J,Q){ga("eventDragStart",s,p,J,Q);i(p,s);K=s.position();E=Z=0;ja.start(function(U,fa,ba,wa){s.draggable("option","revert",!U);z();if(U){k=wa*ka;if(u("allDaySlot")&&!U.row){if(!L){L=true;v.hide();s.draggable("option","grid",null)}B(ca(M(p.start),k),ca(Ua(p),k))}else r()}},J,"drag")},drag:function(J,Q){E=Math.round((Q.position.top-
K.top)/w)*u("slotMinutes");if(E!=Z){L||G(E);Z=E}},stop:function(J,Q){var U=ja.stop();z();ga("eventDragStop",s,p,J,Q);if(U&&(k||E||L))F(this,p,k,L?0:E,L,J,Q);else{r();s.css("filter","");s.css(K);G(0);C(p,s)}}})}function P(p,s,v){var G,r,K=H();s.resizable({handles:{s:"div.ui-resizable-s"},grid:K,start:function(L,k){G=r=0;i(p,s);s.css("z-index",9);ga("eventResizeStart",this,p,L,k)},resize:function(L,k){G=Math.round((Math.max(K,s.height())-k.originalSize.height)/K);if(G!=r){v.text(W(p.start,!G&&!p.end?
null:ya(ra(p),u("slotMinutes")*G),u("timeFormat")));r=G}},stop:function(L,k){ga("eventResizeStop",this,p,L,k);if(G)O(this,p,0,u("slotMinutes")*G,L,k);else{s.css("z-index",8);C(p,s)}}})}var q=this;q.renderEvents=a;q.compileDaySegs=e;q.clearEvents=b;q.slotSegHtml=m;q.bindDaySeg=j;Qb.call(q);var u=q.opt,ga=q.trigger,pa=q.isEventDraggable,ha=q.isEventResizable,ra=q.eventEnd,ta=q.reportEvents,ia=q.reportEventClear,ea=q.eventElementHandlers,oa=q.setHeight,va=q.getDaySegmentContainer,qa=q.getSlotSegmentContainer,
S=q.getHoverListener,da=q.getMaxMinute,la=q.getMinMinute,sa=q.timePosition,I=q.colContentLeft,o=q.colContentRight,V=q.renderDaySegs,Y=q.resizableDayEvent,T=q.getColCnt,d=q.getColWidth,H=q.getSlotHeight,x=q.getBodyContent,$=q.reportEventElement,C=q.showEvents,i=q.hideEvents,F=q.eventDrop,O=q.eventResize,B=q.renderDayOverlay,z=q.clearOverlays,l=q.calendar,X=l.formatDate,W=l.formatDates}function vc(a){var b,e,c,f,g,m;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){g=f[e];for(c=0;c<a[b-1].length;c++){m=
a[b-1][c];if(Cb(g,m))m.forward=Math.max(m.forward||0,(g.forward||0)+1)}}}}function Kb(a,b,e){function c(I,o){I=sa[I];if(typeof I=="object")return jb(I,o||e);return I}function f(I,o){return b.trigger.apply(b,[I,o||ea].concat(Array.prototype.slice.call(arguments,2),[ea]))}function g(I){return j(I)&&!c("disableDragging")}function m(I){return j(I)&&!c("disableResizing")}function j(I){return Ta(I.editable,(I.source||{}).editable,c("editable"))}function t(I){S={};var o,V=I.length,Y;for(o=0;o<V;o++){Y=I[o];
if(S[Y._id])S[Y._id].push(Y);else S[Y._id]=[Y]}}function A(I){return I.end?M(I.end):oa(I)}function R(I,o){da.push(o);if(la[I._id])la[I._id].push(o);else la[I._id]=[o]}function P(){da=[];la={}}function q(I,o){o.click(function(V){if(!o.hasClass("ui-draggable-dragging")&&!o.hasClass("ui-resizable-resizing"))return f("eventClick",this,I,V)}).hover(function(V){f("eventMouseover",this,I,V)},function(V){f("eventMouseout",this,I,V)})}function u(I,o){pa(I,o,"show")}function ga(I,o){pa(I,o,"hide")}function pa(I,
o,V){I=la[I._id];var Y,T=I.length;for(Y=0;Y<T;Y++)if(!o||I[Y][0]!=o[0])I[Y][V]()}function ha(I,o,V,Y,T,d,H){var x=o.allDay,$=o._id;ta(S[$],V,Y,T);f("eventDrop",I,o,V,Y,T,function(){ta(S[$],-V,-Y,x);qa($)},d,H);qa($)}function ra(I,o,V,Y,T,d){var H=o._id;ia(S[H],V,Y);f("eventResize",I,o,V,Y,function(){ia(S[H],-V,-Y);qa(H)},T,d);qa(H)}function ta(I,o,V,Y){V=V||0;for(var T,d=I.length,H=0;H<d;H++){T=I[H];if(Y!==na)T.allDay=Y;ya(ca(T.start,o,true),V);if(T.end)T.end=ya(ca(T.end,o,true),V);va(T,sa)}}function ia(I,
o,V){V=V||0;for(var Y,T=I.length,d=0;d<T;d++){Y=I[d];Y.end=ya(ca(A(Y),o,true),V);va(Y,sa)}}var ea=this;ea.element=a;ea.calendar=b;ea.name=e;ea.opt=c;ea.trigger=f;ea.isEventDraggable=g;ea.isEventResizable=m;ea.reportEvents=t;ea.eventEnd=A;ea.reportEventElement=R;ea.reportEventClear=P;ea.eventElementHandlers=q;ea.showEvents=u;ea.hideEvents=ga;ea.eventDrop=ha;ea.eventResize=ra;var oa=ea.defaultEventEnd,va=b.normalizeEvent,qa=b.reportEventChange,S={},da=[],la={},sa=b.options}function Qb(){function a(i,
F){var O=T(),B=qa(),z=S(),l=0,X,W,p=i.length,s,v;O[0].innerHTML=e(i);c(i,O.children());f(i);g(i,O,F);m(i);j(i);t(i);F=A();for(O=0;O<B;O++){X=[];for(W=0;W<z;W++)X[W]=0;for(;l<p&&(s=i[l]).row==O;){W=Hb(X.slice(s.startCol,s.endCol));s.top=W;W+=s.outerHeight;for(v=s.startCol;v<s.endCol;v++)X[v]=W;l++}F[O].height(Hb(X))}P(i,R(F))}function b(i,F,O){var B=n("<div/>"),z=T(),l=i.length,X;B[0].innerHTML=e(i);B=B.children();z.append(B);c(i,B);m(i);j(i);t(i);P(i,R(A()));B=[];for(z=0;z<l;z++)if(X=i[z].element){i[z].row===
F&&X.css("top",O);B.push(X[0])}return n(B)}function e(i){var F=ga("isRTL"),O,B=i.length,z,l,X,W;O=la();var p=O.left,s=O.right,v,G,r,K,L,k="";for(O=0;O<B;O++){z=i[O];l=z.event;W=["fc-event","fc-event-skin","fc-event-hori"];ha(l)&&W.push("fc-event-draggable");if(F){z.isStart&&W.push("fc-corner-right");z.isEnd&&W.push("fc-corner-left");v=o(z.end.getDay()-1);G=o(z.start.getDay());r=z.isEnd?sa(v):p;K=z.isStart?I(G):s}else{z.isStart&&W.push("fc-corner-left");z.isEnd&&W.push("fc-corner-right");v=o(z.start.getDay());
G=o(z.end.getDay()-1);r=z.isStart?sa(v):p;K=z.isEnd?I(G):s}W=W.concat(l.className);if(l.source)W=W.concat(l.source.className||[]);X=l.url;L=Jb(l,ga);k+=X?"<a href='"+Qa(X)+"'":"<div";k+=" class='"+W.join(" ")+"' style='position:absolute;z-index:8;left:"+r+"px;"+L+"'><div class='fc-event-inner fc-event-skin'"+(L?" style='"+L+"'":"")+">";if(!l.allDay&&z.isStart)k+="<span class='fc-event-time'>"+Qa(H(l.start,l.end,ga("timeFormat")))+"</span>";k+="<span class='fc-event-title'>"+Qa(l.title)+"</span></div>";
if(z.isEnd&&ra(l))k+="<div class='ui-resizable-handle ui-resizable-"+(F?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";k+="</"+(X?"a":"div")+">";z.left=r;z.outerWidth=K-r;z.startCol=v;z.endCol=G+1}return k}function c(i,F){var O,B=i.length,z,l,X;for(O=0;O<B;O++){z=i[O];l=z.event;X=n(F[O]);l=pa("eventRender",l,l,X);if(l===false)X.remove();else{if(l&&l!==true){l=n(l).css({position:"absolute",left:z.left});X.replaceWith(l);X=l}z.element=X}}}function f(i){var F,O=i.length,B,z;for(F=0;F<O;F++){B=i[F];(z=B.element)&&
ia(B.event,z)}}function g(i,F,O){var B,z=i.length,l,X,W;for(B=0;B<z;B++){l=i[B];if(X=l.element){W=l.event;if(W._id===O)d(W,X,l);else X[0]._fci=B}}Db(F,i,d)}function m(i){var F,O=i.length,B,z,l,X,W={};for(F=0;F<O;F++){B=i[F];if(z=B.element){l=B.key=Ib(z[0]);X=W[l];if(X===na)X=W[l]=pb(z,true);B.hsides=X}}}function j(i){var F,O=i.length,B,z;for(F=0;F<O;F++){B=i[F];if(z=B.element)z[0].style.width=Math.max(0,B.outerWidth-B.hsides)+"px"}}function t(i){var F,O=i.length,B,z,l,X,W={};for(F=0;F<O;F++){B=i[F];
if(z=B.element){l=B.key;X=W[l];if(X===na)X=W[l]=Fb(z);B.outerHeight=z[0].offsetHeight+X}}}function A(){var i,F=qa(),O=[];for(i=0;i<F;i++)O[i]=da(i).find("td:first div.fc-day-content > div");return O}function R(i){var F,O=i.length,B=[];for(F=0;F<O;F++)B[F]=i[F][0].offsetTop;return B}function P(i,F){var O,B=i.length,z,l;for(O=0;O<B;O++){z=i[O];if(l=z.element){l[0].style.top=F[z.row]+(z.top||0)+"px";z=z.event;pa("eventAfterRender",z,z,l)}}}function q(i,F,O){var B=ga("isRTL"),z=B?"w":"e",l=F.find("div.ui-resizable-"+
z),X=false;qb(F);F.mousedown(function(W){W.preventDefault()}).click(function(W){if(X){W.preventDefault();W.stopImmediatePropagation()}});l.mousedown(function(W){function p(ja){pa("eventResizeStop",this,i,ja);n("body").css("cursor","");s.stop();$();k&&va(this,i,k,0,ja);setTimeout(function(){X=false},0)}if(W.which==1){X=true;var s=u.getHoverListener(),v=qa(),G=S(),r=B?-1:1,K=B?G-1:0,L=F.css("top"),k,E,Z=n.extend({},i),ka=V(i.start);C();n("body").css("cursor",z+"-resize").one("mouseup",p);pa("eventResizeStart",
this,i,W);s.start(function(ja,ma){if(ja){var aa=Math.max(ka.row,ja.row);ja=ja.col;if(v==1)aa=0;if(aa==ka.row)ja=B?Math.min(ka.col,ja):Math.max(ka.col,ja);k=aa*7+ja*r+K-(ma.row*7+ma.col*r+K);ma=ca(ta(i),k,true);if(k){Z.end=ma;aa=E;E=b(Y([Z]),O.row,L);E.find("*").css("cursor",z+"-resize");aa&&aa.remove();oa(i)}else if(E){ea(i);E.remove();E=null}$();x(i.start,ca(M(ma),1))}},W)}})}var u=this;u.renderDaySegs=a;u.resizableDayEvent=q;var ga=u.opt,pa=u.trigger,ha=u.isEventDraggable,ra=u.isEventResizable,
ta=u.eventEnd,ia=u.reportEventElement,ea=u.showEvents,oa=u.hideEvents,va=u.eventResize,qa=u.getRowCnt,S=u.getColCnt,da=u.allDayRow,la=u.allDayBounds,sa=u.colContentLeft,I=u.colContentRight,o=u.dayOfWeekCol,V=u.dateCell,Y=u.compileDaySegs,T=u.getDaySegmentContainer,d=u.bindDaySeg,H=u.calendar.formatDates,x=u.renderDayOverlay,$=u.clearOverlays,C=u.clearSelection}function Mb(){function a(P,q,u){b();q||(q=j(P,u));t(P,q,u);e(P,q,u)}function b(P){if(R){R=false;A();m("unselect",null,P)}}function e(P,q,u,
ga){R=true;m("select",null,P,q,u,ga)}function c(P){var q=f.cellDate,u=f.cellIsAllDay,ga=f.getHoverListener(),pa=f.reportDayClick;if(P.which==1&&g("selectable")){b(P);var ha;ga.start(function(ra,ta){A();if(ra&&u(ra)){ha=[q(ta),q(ra)].sort(Gb);t(ha[0],ha[1],true)}else ha=null},P);n(document).one("mouseup",function(ra){ga.stop();if(ha){+ha[0]==+ha[1]&&pa(ha[0],true,ra);e(ha[0],ha[1],true,ra)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=c;var g=f.opt,m=f.trigger,
j=f.defaultSelectionEnd,t=f.renderSelection,A=f.clearSelection,R=false;g("selectable")&&g("unselectAuto")&&n(document).mousedown(function(P){var q=g("unselectCancel");if(q)if(n(P.target).parents(q).length)return;b(P)})}function Lb(){function a(g,m){var j=f.shift();j||(j=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=m[0]&&j.appendTo(m);c.push(j.css(g).show());return j}function b(){for(var g;g=c.shift();)f.push(g.hide().unbind())}var e=this;e.renderOverlay=
a;e.clearOverlays=b;var c=[],f=[]}function Nb(a){var b=this,e,c;b.build=function(){e=[];c=[];a(e,c)};b.cell=function(f,g){var m=e.length,j=c.length,t,A=-1,R=-1;for(t=0;t<m;t++)if(g>=e[t][0]&&g<e[t][1]){A=t;break}for(t=0;t<j;t++)if(f>=c[t][0]&&f<c[t][1]){R=t;break}return A>=0&&R>=0?{row:A,col:R}:null};b.rect=function(f,g,m,j,t){t=t.offset();return{top:e[f][0]-t.top,left:c[g][0]-t.left,width:c[j][1]-c[g][0],height:e[m][1]-e[f][0]}}}function Ob(a){function b(j){xc(j);j=a.cell(j.pageX,j.pageY);if(!j!=
!m||j&&(j.row!=m.row||j.col!=m.col)){if(j){g||(g=j);f(j,g,j.row-g.row,j.col-g.col)}else f(j,g);m=j}}var e=this,c,f,g,m;e.start=function(j,t,A){f=j;g=m=null;a.build();b(t);c=A||"mousemove";n(document).bind(c,b)};e.stop=function(){n(document).unbind(c,b);return m}}function xc(a){if(a.pageX===na){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Pb(a){function b(m){return c[m]=c[m]||a(m)}var e=this,c={},f={},g={};e.left=function(m){return f[m]=f[m]===na?b(m).position().left:f[m]};
e.right=function(m){return g[m]=g[m]===na?e.left(m)+b(m).width():g[m]};e.clear=function(){c={};f={};g={}}}var Ya={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,
firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",
month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=n.fullCalendar={version:"1.5.2"},Ja=Aa.views={};n.fn.fullCalendar=function(a){if(typeof a=="string"){var b=
Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=n.data(this,"fullCalendar");if(f&&n.isFunction(f[a])){f=f[a].apply(f,b);if(e===na)e=f;a=="destroy"&&n.removeData(this,"fullCalendar")}});if(e!==na)return e;return this}var c=a.eventSources||[];delete a.eventSources;if(a.events){c.push(a.events);delete a.events}a=n.extend(true,{},Ya,a.isRTL||a.isRTL===na&&Ya.isRTL?yc:{},a);this.each(function(f,g){f=n(g);g=new Yb(f,a,c);f.data("fullCalendar",g);g.render()});return this};Aa.sourceNormalizers=
[];Aa.sourceFetchers=[];var ac={dataType:"json",cache:false},bc=1;Aa.addDays=ca;Aa.cloneDate=M;Aa.parseDate=kb;Aa.parseISO8601=Bb;Aa.parseTime=mb;Aa.formatDate=Oa;Aa.formatDates=ib;var lc=["sun","mon","tue","wed","thu","fri","sat"],Ab=864E5,cc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||
12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},
yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Aa.applyAll=$a;Ja.month=mc;Ja.basicWeek=nc;Ja.basicDay=oc;wb({weekMode:"fixed"});Ja.agendaWeek=qc;Ja.agendaDay=rc;wb({allDaySlot:true,
allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
/**
 * Copyright (c) 2009 Sergiy Kovalchuk (serg472@gmail.com)
 * 
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *  
 * Following code is based on Element.mask() implementation from ExtJS framework (http://extjs.com/)
 *
 */
(function(a){a.fn.mask=function(c,b){a(this).each(function(){if(b!==undefined&&b>0){var d=a(this);d.data("_mask_timeout",setTimeout(function(){a.maskElement(d,c)},b))}else{a.maskElement(a(this),c)}})};a.fn.unmask=function(){a(this).each(function(){a.unmaskElement(a(this))})};a.fn.isMasked=function(){return this.hasClass("masked")};a.maskElement=function(d,c){if(d.data("_mask_timeout")!==undefined){clearTimeout(d.data("_mask_timeout"));d.removeData("_mask_timeout")}if(d.isMasked()){a.unmaskElement(d)}if(d.css("position")=="static"){d.addClass("masked-relative")}d.addClass("masked");var e=a('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){e.height(d.height()+parseInt(d.css("padding-top"))+parseInt(d.css("padding-bottom")));e.width(d.width()+parseInt(d.css("padding-left"))+parseInt(d.css("padding-right")))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){d.find("select").addClass("masked-hidden")}d.append(e);if(c!==undefined){var b=a('<div class="loadmask-msg" style="display:none;"></div>');b.append("<div>"+c+"</div>");d.append(b);b.css("top",Math.round(d.height()/2-(b.height()-parseInt(b.css("padding-top"))-parseInt(b.css("padding-bottom")))/2)+"px");b.css("left",Math.round(d.width()/2-(b.width()-parseInt(b.css("padding-left"))-parseInt(b.css("padding-right")))/2)+"px");b.show()}};a.unmaskElement=function(b){if(b.data("_mask_timeout")!==undefined){clearTimeout(b.data("_mask_timeout"));b.removeData("_mask_timeout")}b.find(".loadmask-msg,.loadmask").remove();b.removeClass("masked");b.removeClass("masked-relative");b.find("select").removeClass("masked-hidden")}})(jQuery);(function(a){a.fn.colorPicker=function(){0<this.length&&buildSelector();return this.each(function(){buildPicker(this)})};var c,d=!1;buildPicker=function(b){control=a("<div class='color_picker'>&nbsp;</div>");control.css("background-color",a(b).val());control.bind("click",toggleSelector);a(b).after(control);a(b).bind("change",function(){selectedValue=toHex(a(b).val());a(b).next(".color_picker").css("background-color",selectedValue)});a(b).hide()};buildSelector=function(){selector=a("<div id='color_selector'></div>");
a.each(a.fn.colorPicker.defaultColors,function(){swatch=a("<div class='color_swatch'>&nbsp;</div>");swatch.css("background-color","#"+this);swatch.bind("click",function(){changeColor(a(this).css("background-color"))});swatch.bind("mouseover",function(){a(this).css("border-color","#598FEF");a("input#color_value").val(toHex(a(this).css("background-color")))});swatch.bind("mouseout",function(){a(this).css("border-color","#000");a("input#color_value").val(toHex(a(c).css("background-color")))});swatch.appendTo(selector)});
hex_field=a("<label for='color_value'>Hex</label><input type='text' size='8' id='color_value'/>");hex_field.bind("keydown",function(b){13==b.keyCode&&changeColor(a(this).val());27==b.keyCode&&toggleSelector()});a("<div id='color_custom'></div>").append(hex_field).appendTo(selector);a("body").append(selector);selector.hide()};checkMouse=function(b){var e=a(b.target).parents("div#color_selector").length;b.target==a("div#color_selector")[0]||b.target==c||0<e||hideSelector()};hideSelector=function(){var b=
a("div#color_selector");a(document).unbind("mousedown",checkMouse);b.hide();d=!1};showSelector=function(){var b=a("div#color_selector");b.css({top:a(c).offset().top+a(c).outerHeight(),left:a(c).offset().left});hexColor=a(c).prev("input").val();a("input#color_value").val(hexColor);b.show();a(document).bind("mousedown",checkMouse);d=!0};toggleSelector=function(){c=this;d?hideSelector():showSelector()};changeColor=function(b){if(selectedValue=toHex(b))a(c).css("background-color",selectedValue),a(c).prev("input").val(selectedValue).change(),
hideSelector()};toHex=function(a){if(a.match(/[0-9a-fA-F]{3}$/)||a.match(/[0-9a-fA-F]{6}$/))a="#"==a.charAt(0)?a:"#"+a;else if(a.match(/^rgb\(([0-9]|[1-9][0-9]|[1][0-9]{2}|[2][0-4][0-9]|[2][5][0-5]),[ ]{0,1}([0-9]|[1-9][0-9]|[1][0-9]{2}|[2][0-4][0-9]|[2][5][0-5]),[ ]{0,1}([0-9]|[1-9][0-9]|[1][0-9]{2}|[2][0-4][0-9]|[2][5][0-5])\)$/)){var c=[parseInt(RegExp.$1),parseInt(RegExp.$2),parseInt(RegExp.$3)],d=function(a){if(2>a.length)for(var b=0,c=2-a.length;b<c;b++)a="0"+a;return a};if(3==c.length)var a=
d(c[0].toString(16)),f=d(c[1].toString(16)),c=d(c[2].toString(16)),a="#"+a+f+c}else a=!1;return a};a.fn.colorPicker.addColors=function(b){a.fn.colorPicker.defaultColors=a.fn.colorPicker.defaultColors.concat(b)};a.fn.colorPicker.defaultColors="000000,993300,333300,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFFF,99CCFF,FFFFFF".split(",")})(jQuery);
(function(b){b.widget("ui.tagit",{options:{itemName:"item",fieldName:"tags",availableTags:[],tagSource:null,removeConfirmation:!1,caseSensitive:!0,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,tabIndex:null,onTagAdded:null,onTagRemoved:null,onTagClicked:null},_create:function(){var a=this;this.element.is("input")?(this.tagList=b("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.css("display","none")):
this.tagList=this.element.find("ul, ol").andSelf().last();this._tagInput=b('<input type="text">').addClass("ui-widget-content");this.options.tabIndex&&this._tagInput.attr("tabindex",this.options.tabIndex);this.options.tagSource=this.options.tagSource||function(e,c){var d=e.term.toLowerCase(),g=b.grep(a.options.availableTags,function(a){return 0===a.toLowerCase().indexOf(d)});c(a._subtractArray(g,a.assignedTags()))};this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(b('<li class="tagit-new"></li>').append(this._tagInput)).click(function(e){var c=
b(e.target);c.hasClass("tagit-label")?a._trigger("onTagClicked",e,c.closest(".tagit-choice")):a._tagInput.focus()});this.tagList.children("li").each(function(){b(this).hasClass("tagit-new")||(a.createTag(b(this).html(),b(this).attr("class")),b(this).remove())});if(this.options.singleField)if(this.options.singleFieldNode){var c=b(this.options.singleFieldNode),d=c.val().split(this.options.singleFieldDelimiter);c.val("");b.each(d,function(b,c){a.createTag(c)})}else this.options.singleFieldNode=this.tagList.after('<input type="hidden" style="display:none;" value="" name="'+
this.options.fieldName+'">');this._tagInput.keydown(function(c){if(c.which==b.ui.keyCode.BACKSPACE&&""===a._tagInput.val()){var d=a._lastTag();!a.options.removeConfirmation||d.hasClass("remove")?a.removeTag(d):a.options.removeConfirmation&&d.addClass("remove ui-state-highlight")}else a.options.removeConfirmation&&a._lastTag().removeClass("remove ui-state-highlight");if(c.which==b.ui.keyCode.COMMA||c.which==b.ui.keyCode.ENTER||c.which==b.ui.keyCode.TAB&&""!==a._tagInput.val()||c.which==b.ui.keyCode.SPACE&&
!0!==a.options.allowSpaces&&('"'!=b.trim(a._tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==b.trim(a._tagInput.val()).charAt(0)&&'"'==b.trim(a._tagInput.val()).charAt(b.trim(a._tagInput.val()).length-1)&&0!==b.trim(a._tagInput.val()).length-1))c.preventDefault(),a.createTag(a._cleanedInput()),a._tagInput.autocomplete("close")}).blur(function(){a.createTag(a._cleanedInput())});(this.options.availableTags||this.options.tagSource)&&this._tagInput.autocomplete({source:this.options.tagSource,select:function(b,
c){""===a._tagInput.val()&&a.removeTag(a._lastTag(),!1);a.createTag(c.item.value);return!1}})},_cleanedInput:function(){return b.trim(this._tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.children(".tagit-choice:last")},assignedTags:function(){var a=this,c=[];this.options.singleField?(c=b(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===c[0]&&(c=[])):this.tagList.children(".tagit-choice").each(function(){c.push(a.tagLabel(this))});
return c},_updateSingleTagsField:function(a){b(this.options.singleFieldNode).val(a.join(this.options.singleFieldDelimiter))},_subtractArray:function(a,c){for(var d=[],e=0;e<a.length;e++)-1==b.inArray(a[e],c)&&d.push(a[e]);return d},tagLabel:function(a){return this.options.singleField?b(a).children(".tagit-label").text():b(a).children("input").val()},_isNew:function(a){var b=this,d=!0;this.tagList.children(".tagit-choice").each(function(){if(b._formatStr(a)==b._formatStr(b.tagLabel(this)))return d=
!1});return d},_formatStr:function(a){return this.options.caseSensitive?a:b.trim(a.toLowerCase())},createTag:function(a,c){that=this;a=b.trim(a);if(!this._isNew(a)||""===a)return!1;var d=b(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(a),e=b("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(c).append(d),f=b("<span></span>").addClass("ui-icon ui-icon-close"),f=b('<a><span class="text-icon">\u00d7</span></a>').addClass("close").append(f).click(function(){that.removeTag(e)});
e.append(f);this.options.singleField?(d=this.assignedTags(),d.push(a),this._updateSingleTagsField(d)):(d=d.html(),e.append('<input type="hidden" style="display:none;" value="'+d+'" name="'+this.options.itemName+"["+this.options.fieldName+'][]">'));this._trigger("onTagAdded",null,e);this._tagInput.val("");this._tagInput.parent().before(e)},removeTag:function(a,c){"undefined"===typeof c&&(c=!0);a=b(a);this._trigger("onTagRemoved",null,a);if(this.options.singleField){var d=this.assignedTags(),e=this.tagLabel(a),
d=b.grep(d,function(a){return a!=e});this._updateSingleTagsField(d)}c?a.fadeOut("fast").hide("blind",{direction:"horizontal"},"fast",function(){a.remove()}).dequeue():a.remove()},removeAll:function(){var a=this;this.tagList.children(".tagit-choice").each(function(b,d){a.removeTag(d,!1)})}})})(jQuery);
/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Wed Jan 11 13:14:34 2012 +0000
*//*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true *//*global window: false, jQuery: false, console: false */(function(a,b,c){function E(b,g){function w(a){var b=a.precedance==="y",c=n[b?"width":"height"],d=n[b?"height":"width"],e=a.string().indexOf("center")>-1,f=c*(e?.5:1),g=Math.pow,h=Math.round,i,j,k,l=Math.sqrt(g(f,2)+g(d,2)),m=[p/f*l,p/d*l];m[2]=Math.sqrt(g(m[0],2)-g(p,2)),m[3]=Math.sqrt(g(m[1],2)-g(p,2)),i=l+m[2]+m[3]+(e?0:m[0]),j=i/l,k=[h(j*d),h(j*c)];return{height:k[b?0:1],width:k[b?1:0]}}function v(b){var c=k.titlebar&&b.y==="top",d=c?k.titlebar:k.content,e=a.browser.mozilla,f=e?"-moz-":a.browser.webkit?"-webkit-":"",g=b.y+(e?"":"-")+b.x,h=f+(e?"border-radius-"+g:"border-"+g+"-radius");return parseInt(d.css(h),10)||parseInt(l.css(h),10)||0}function u(a,b,c){b=b?b:a[a.precedance];var d=l.hasClass(r),e=k.titlebar&&a.y==="top",f=e?k.titlebar:k.content,g="border-"+b+"-width",h;l.addClass(r),h=parseInt(f.css(g),10),h=(c?h||parseInt(l.css(g),10):h)||0,l.toggleClass(r,d);return h}function t(a,f,g,h){if(k.tip){var l=i.corner.clone(),n=g.adjusted,o=b.options.position.adjust.method.split(" "),p=o[0],q=o[1]||o[0],r={left:e,top:e,x:0,y:0},s,t={},u;i.corner.fixed!==d&&(p==="shift"&&l.precedance==="x"&&n.left&&l.y!=="center"?l.precedance=l.precedance==="x"?"y":"x":p==="flip"&&n.left&&(l.x=l.x==="center"?n.left>0?"left":"right":l.x==="left"?"right":"left"),q==="shift"&&l.precedance==="y"&&n.top&&l.x!=="center"?l.precedance=l.precedance==="y"?"x":"y":q==="flip"&&n.top&&(l.y=l.y==="center"?n.top>0?"top":"bottom":l.y==="top"?"bottom":"top"),l.string()!==m.corner.string()&&(m.top!==n.top||m.left!==n.left)&&i.update(l,e)),s=i.position(l,n),s.right!==c&&(s.left=-s.right),s.bottom!==c&&(s.top=-s.bottom),s.user=Math.max(0,j.offset);if(r.left=p==="shift"&&!!n.left)l.x==="center"?t["margin-left"]=r.x=s["margin-left"]-n.left:(u=s.right!==c?[n.left,-s.left]:[-n.left,s.left],(r.x=Math.max(u[0],u[1]))>u[0]&&(g.left-=n.left,r.left=e),t[s.right!==c?"right":"left"]=r.x);if(r.top=q==="shift"&&!!n.top)l.y==="center"?t["margin-top"]=r.y=s["margin-top"]-n.top:(u=s.bottom!==c?[n.top,-s.top]:[-n.top,s.top],(r.y=Math.max(u[0],u[1]))>u[0]&&(g.top-=n.top,r.top=e),t[s.bottom!==c?"bottom":"top"]=r.y);k.tip.css(t).toggle(!(r.x&&r.y||l.x==="center"&&r.y||l.y==="center"&&r.x)),g.left-=s.left.charAt?s.user:p!=="shift"||r.top||!r.left&&!r.top?s.left:0,g.top-=s.top.charAt?s.user:q!=="shift"||r.left||!r.left&&!r.top?s.top:0,m.left=n.left,m.top=n.top,m.corner=l.clone()}}var i=this,j=b.options.style.tip,k=b.elements,l=k.tooltip,m={top:0,left:0},n={width:j.width,height:j.height},o={},p=j.border||0,q=".qtip-tip",s=!!(a("<canvas />")[0]||{}).getContext;i.mimic=i.corner=f,i.border=p,i.offset=j.offset,i.size=n,b.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){i.init()||i.destroy(),b.reposition()},"^style.tip.(height|width)$":function(){n={width:j.width,height:j.height},i.create(),i.update(),b.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&i.update()}},a.extend(i,{init:function(){var b=i.detectCorner()&&(s||a.browser.msie);b&&(i.create(),i.update(),l.unbind(q).bind("tooltipmove"+q,t));return b},detectCorner:function(){var a=j.corner,c=b.options.position,f=c.at,g=c.my.string?c.my.string():c.my;if(a===e||g===e&&f===e)return e;a===d?i.corner=new h.Corner(g):a.string||(i.corner=new h.Corner(a),i.corner.fixed=d),m.corner=new h.Corner(i.corner.string());return i.corner.string()!=="centercenter"},detectColours:function(c){var d,e,f,g=k.tip.css("cssText",""),h=c||i.corner,m=h[h.precedance],p="border-"+m+"-color",q="border"+m.charAt(0)+m.substr(1)+"Color",s=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,t="background-color",u="transparent",v=" !important",w=a(document.body).css("color"),x=b.elements.content.css("color"),y=k.titlebar&&(h.y==="top"||h.y==="center"&&g.position().top+n.height/2+j.offset<k.titlebar.outerHeight(1)),z=y?k.titlebar:k.content;l.addClass(r),o.fill=e=g.css(t),o.border=f=g[0].style[q]||g.css(p)||l.css(p);if(!e||s.test(e))o.fill=z.css(t)||u,s.test(o.fill)&&(o.fill=l.css(t)||e);if(!f||s.test(f)||f===w)o.border=z.css(p)||u,s.test(o.border)&&(o.border=f);a("*",g).add(g).css("cssText",t+":"+u+v+";border:0"+v+";"),l.removeClass(r)},create:function(){var b=n.width,c=n.height,d;k.tip&&k.tip.remove(),k.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:b,height:c}).prependTo(l),s?a("<canvas />").appendTo(k.tip)[0].getContext("2d").save():(d='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',k.tip.html(d+d),a("*",k.tip).bind("click mousedown",function(a){a.stopPropagation()}))},update:function(b,c){var g=k.tip,l=g.children(),q=n.width,r=n.height,t="px solid ",v="px dashed transparent",x=j.mimic,y=Math.round,z,A,B,C,E;b||(b=m.corner||i.corner),x===e?x=b:(x=new h.Corner(x),x.precedance=b.precedance,x.x==="inherit"?x.x=b.x:x.y==="inherit"?x.y=b.y:x.x===x.y&&(x[b.precedance]=b[b.precedance])),z=x.precedance,i.detectColours(b),o.border!=="transparent"&&o.border!=="#123456"?(p=u(b,f,d),j.border===0&&p>0&&(o.fill=o.border),i.border=p=j.border!==d?j.border:p):i.border=p=0,B=D(x,q,r),i.size=E=w(b),g.css(E),b.precedance==="y"?C=[y(x.x==="left"?p:x.x==="right"?E.width-q-p:(E.width-q)/2),y(x.y==="top"?E.height-r:0)]:C=[y(x.x==="left"?E.width-q:0),y(x.y==="top"?p:x.y==="bottom"?E.height-r-p:(E.height-r)/2)],s?(l.attr(E),A=l[0].getContext("2d"),A.restore(),A.save(),A.clearRect(0,0,3e3,3e3),A.translate(C[0],C[1]),A.beginPath(),A.moveTo(B[0][0],B[0][1]),A.lineTo(B[1][0],B[1][1]),A.lineTo(B[2][0],B[2][1]),A.closePath(),A.fillStyle=o.fill,A.strokeStyle=o.border,A.lineWidth=p*2,A.lineJoin="miter",A.miterLimit=100,p&&A.stroke(),A.fill()):(B="m"+B[0][0]+","+B[0][1]+" l"+B[1][0]+","+B[1][1]+" "+B[2][0]+","+B[2][1]+" xe",C[2]=p&&/^(r|b)/i.test(b.string())?parseFloat(a.browser.version,10)===8?2:1:0,l.css({antialias:""+(x.string().indexOf("center")>-1),left:C[0]-C[2]*Number(z==="x"),top:C[1]-C[2]*Number(z==="y"),width:q+p,height:r+p}).each(function(b){var c=a(this);c[c.prop?"prop":"attr"]({coordsize:q+p+" "+(r+p),path:B,fillcolor:o.fill,filled:!!b,stroked:!b}).css({display:p||b?"block":"none"}),!b&&c.html()===""&&c.html('<vml:stroke weight="'+p*2+'px" color="'+o.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')})),c!==e&&i.position(b)},position:function(b){var c=k.tip,f={},g=Math.max(0,j.offset),h,l,m;if(j.corner===e||!c)return e;b=b||i.corner,h=b.precedance,l=w(b),m=[b.x,b.y],h==="x"&&m.reverse(),a.each(m,function(a,c){var e,i;c==="center"?(e=h==="y"?"left":"top",f[e]="50%",f["margin-"+e]=-Math.round(l[h==="y"?"width":"height"]/2)+g):(e=u(b,c,d),i=v(b),f[c]=a?p?u(b,c):0:g+(i>e?i:0))}),f[b[h]]-=l[h==="x"?"width":"height"],c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(f);return f},destroy:function(){k.tip&&k.tip.remove(),l.unbind(q)}}),i.init()}function D(a,b,c){var d=Math.ceil(b/2),e=Math.ceil(c/2),f={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[d,0],[b,c]],bottomcenter:[[0,0],[b,0],[d,c]],rightcenter:[[0,0],[b,e],[0,c]],leftcenter:[[b,0],[b,c],[0,e]]};f.lefttop=f.bottomright,f.righttop=f.bottomleft,f.leftbottom=f.topright,f.rightbottom=f.topleft;return f[a.string()]}function C(c){var f=this,g=c.options.show.modal,i=c.elements,j=i.tooltip,k="#qtip-overlay",l=".qtipmodal",m=l+c.id,o="is-modal-qtip",q=a(document.body),r;c.checks.modal={"^show.modal.(on|blur)$":function(){f.init(),i.overlay.toggle(j.is(":visible"))}},a.extend(f,{init:function(){if(!g.on)return f;r=f.create(),j.attr(o,d).css("z-index",h.modal.zindex+a(n+"["+o+"]").length).unbind(l).unbind(m).bind("tooltipshow"+l+" tooltiphide"+l,function(b,c,d){var e=b.originalEvent;if(e&&b.type==="tooltiphide"&&/mouse(leave|enter)/.test(e.type)&&a(e.relatedTarget).closest(r[0]).length)try{b.preventDefault()}catch(g){}else(!e||e&&!e.solo)&&f[b.type.replace("tooltip","")](b,d)}).bind("tooltipfocus"+l,function(b){if(!b.isDefaultPrevented()){var c=a(n).filter("["+o+"]"),d=h.modal.zindex+c.length,e=parseInt(j[0].style.zIndex,10);r[0].style.zIndex=d-1,c.each(function(){this.style.zIndex>e&&(this.style.zIndex-=1)}),c.end().filter("."+p).qtip("blur",b.originalEvent),j.addClass(p)[0].style.zIndex=d;try{b.preventDefault()}catch(f){}}}).bind("tooltiphide"+l,function(b){a("["+o+"]").filter(":visible").not(j).last().qtip("focus",b)}),g.escape&&a(b).unbind(m).bind("keydown"+m,function(a){a.keyCode===27&&j.hasClass(p)&&c.hide(a)}),g.blur&&i.overlay.unbind(m).bind("click"+m,function(a){j.hasClass(p)&&c.hide(a)});return f},create:function(){function d(){r.css({height:a(b).height(),width:a(b).width()})}var c=a(k);if(c.length)return i.overlay=c.insertAfter(a(n).last());r=i.overlay=a("<div />",{id:k.substr(1),html:"<div></div>",mousedown:function(){return e}}).insertAfter(a(n).last()),a(b).unbind(l).bind("resize"+l,d),d();return r},toggle:function(b,c,h){if(b&&b.isDefaultPrevented())return f;var i=g.effect,k=c?"show":"hide",l=r.is(":visible"),p=a("["+o+"]").filter(":visible").not(j),s;r||(r=f.create());if(r.is(":animated")&&l===c||!c&&p.length)return f;c?(r.css({left:0,top:0}),r.toggleClass("blurs",g.blur),q.bind("focusin"+m,function(b){var c=a(b.target),d=c.closest(".qtip"),f=d.length<1?e:parseInt(d[0].style.zIndex,10)>parseInt(j[0].style.zIndex,10);!f&&a(b.target).closest(n)[0]!==j[0]&&j.find("input:visible").filter(":first").focus()})):q.undelegate("*","focusin"+m),r.stop(d,e),a.isFunction(i)?i.call(r,c):i===e?r[k]():r.fadeTo(parseInt(h,10)||90,c?1:0,function(){c||a(this).hide()}),c||r.queue(function(a){r.css({left:"",top:""}),a()});return f},show:function(a,b){return f.toggle(a,d,b)},hide:function(a,b){return f.toggle(a,e,b)},destroy:function(){var d=r;d&&(d=a("["+o+"]").not(j).length<1,d?(i.overlay.remove(),a(b).unbind(l)):i.overlay.unbind(l+c.id),q.undelegate("*","focusin"+m));return j.removeAttr(o).unbind(l)}}),f.init()}function B(b){var c=this,d=b.elements,e=d.tooltip,f=".bgiframe-"+b.id;a.extend(c,{init:function(){d.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),d.bgiframe.appendTo(e),e.bind("tooltipmove"+f,c.adjust)},adjust:function(){var a=b.get("dimensions"),c=b.plugins.tip,f=d.tip,g,h;h=parseInt(e.css("border-left-width"),10)||0,h={left:-h,top:-h},c&&f&&(g=c.corner.precedance==="x"?["width","left"]:["height","top"],h[g[1]]-=f[g[0]]()),d.bgiframe.css(h).css(a)},destroy:function(){d.bgiframe.remove(),e.unbind(f)}}),c.init()}function A(b){var c=this,f=b.elements.tooltip,g=b.options.content.ajax,h=".qtip-ajax",i=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,j=d;b.checks.ajax={"^content.ajax":function(a,b,d){b==="ajax"&&(g=d),b==="once"?c.init():g&&g.url?c.load():f.unbind(h)}},a.extend(c,{init:function(){g&&g.url&&f.unbind(h)[g.once?"one":"bind"]("tooltipshow"+h,c.load);return c},load:function(d,f){function p(a,c,d){a.status!==0&&b.set("content.text",c+": "+d)}function o(c){k&&(c=a("<div/>").append(c.replace(i,"")).find(k)),b.set("content.text",c)}function n(){l&&(b.show(d.originalEvent),f=e),a.isFunction(g.complete)&&g.complete.apply(this,arguments)}var h=g.url.indexOf(" "),j=g.url,k,l=g.once&&!g.loading&&f;if(l)try{d.preventDefault()}catch(m){}else if(d&&d.isDefaultPrevented())return c;h>-1&&(k=j.substr(h),j=j.substr(0,h)),a.ajax(a.extend({success:o,error:p,context:b},g,{url:j,complete:n}))}}),c.init()}function z(b,c){var i,j,k,l,m,n=a(this),o=a(document.body),p=this===document?o:n,q=n.metadata?n.metadata(c.metadata):f,r=c.metadata.type==="html5"&&q?q[c.metadata.name]:f,s=n.data(c.metadata.name||"qtipopts");try{s=typeof s==="string"?(new Function("return "+s))():s}catch(t){w("Unable to parse HTML5 attribute data: "+s)}l=a.extend(d,{},g.defaults,c,typeof s==="object"?x(s):f,x(r||q)),j=l.position,l.id=b;if("boolean"===typeof l.content.text){k=n.attr(l.content.attr);if(l.content.attr!==e&&k)l.content.text=k;else{w("Unable to locate content for tooltip! Aborting render of tooltip on element: ",n);return e}}j.container.length||(j.container=o),j.target===e&&(j.target=p),l.show.target===e&&(l.show.target=p),l.show.solo===d&&(l.show.solo=o),l.hide.target===e&&(l.hide.target=p),l.position.viewport===d&&(l.position.viewport=j.container),j.at=new h.Corner(j.at),j.my=new h.Corner(j.my);if(a.data(this,"qtip"))if(l.overwrite)n.qtip("destroy");else if(l.overwrite===e)return e;l.suppress&&(m=a.attr(this,"title"))&&a(this).removeAttr("title").attr(u,m),i=new y(n,l,b,!!k),a.data(this,"qtip",i),n.bind("remove.qtip-"+b,function(){i.destroy()});return i}function y(s,t,w,y){function R(){var c=[t.show.target[0],t.hide.target[0],z.rendered&&G.tooltip[0],t.position.container[0],t.position.viewport[0],b,document];z.rendered?a([]).pushStack(a.grep(c,function(a){return typeof a==="object"})).unbind(F):t.show.target.unbind(F+"-create")}function Q(){function p(a){E.is(":visible")&&z.reposition(a)}function o(a){if(E.hasClass(m))return e;clearTimeout(z.timers.inactive),z.timers.inactive=setTimeout(function(){z.hide(a)},t.hide.inactive)}function l(b){if(E.hasClass(m)||C||D)return e;var d=a(b.relatedTarget||b.target),g=d.closest(n)[0]===E[0],h=d[0]===f.show[0];clearTimeout(z.timers.show),clearTimeout(z.timers.hide);if(c.target==="mouse"&&g||t.hide.fixed&&(/mouse(out|leave|move)/.test(b.type)&&(g||h)))try{b.preventDefault(),b.stopImmediatePropagation()}catch(i){}else t.hide.delay>0?z.timers.hide=setTimeout(function(){z.hide(b)},t.hide.delay):z.hide(b)}function k(a){if(E.hasClass(m))return e;clearTimeout(z.timers.show),clearTimeout(z.timers.hide);var b=function(){z.toggle(d,a)};t.show.delay>0?z.timers.show=setTimeout(b,t.show.delay):b()}var c=t.position,f={show:t.show.target,hide:t.hide.target,viewport:a(c.viewport),document:a(document),body:a(document.body),window:a(b)},h={show:a.trim(""+t.show.event).split(" "),hide:a.trim(""+t.hide.event).split(" ")},j=a.browser.msie&&parseInt(a.browser.version,10)===6;E.bind("mouseenter"+F+" mouseleave"+F,function(a){var b=a.type==="mouseenter";b&&z.focus(a),E.toggleClass(q,b)}),t.hide.fixed&&(f.hide=f.hide.add(E),E.bind("mouseover"+F,function(){E.hasClass(m)||clearTimeout(z.timers.hide)})),/mouse(out|leave)/i.test(t.hide.event)?t.hide.leave==="window"&&f.window.bind("mouseout"+F+" blur"+F,function(a){/select|option/.test(a.target)&&!a.relatedTarget&&z.hide(a)}):/mouse(over|enter)/i.test(t.show.event)&&f.hide.bind("mouseleave"+F,function(a){clearTimeout(z.timers.show)}),(""+t.hide.event).indexOf("unfocus")>-1&&f.body.bind("mousedown"+F,function(b){var c=a(b.target),d=!E.hasClass(m)&&E.is(":visible");c[0]!==E[0]&&c.parents(n).length===0&&c.add(s).length>1&&!c.attr("disabled")&&z.hide(b)}),"number"===typeof t.hide.inactive&&(f.show.bind("qtip-"+w+"-inactive",o),a.each(g.inactiveEvents,function(a,b){f.hide.add(G.tooltip).bind(b+F+"-inactive",o)})),a.each(h.hide,function(b,c){var d=a.inArray(c,h.show),e=a(f.hide);d>-1&&e.add(f.show).length===e.length||c==="unfocus"?(f.show.bind(c+F,function(a){E.is(":visible")?l(a):k(a)}),delete h.show[d]):f.hide.bind(c+F,l)}),a.each(h.show,function(a,b){f.show.bind(b+F,k)}),"number"===typeof t.hide.distance&&f.show.add(E).bind("mousemove"+F,function(a){var b=H.origin||{},c=t.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&z.hide(a)}),c.target==="mouse"&&(f.show.bind("mousemove"+F,function(a){i={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),c.adjust.mouse&&(t.hide.event&&(E.bind("mouseleave"+F,function(a){(a.relatedTarget||a.target)!==f.show[0]&&z.hide(a)}),G.target.bind("mouseenter"+F+" mouseleave"+F,function(a){H.onTarget=a.type==="mouseenter"})),f.document.bind("mousemove"+F,function(a){H.onTarget&&!E.hasClass(m)&&E.is(":visible")&&z.reposition(a||i)}))),(c.adjust.resize||f.viewport.length)&&(a.event.special.resize?f.viewport:f.window).bind("resize"+F,p),(f.viewport.length||j&&E.css("position")==="fixed")&&f.viewport.bind("scroll"+F,p)}function P(b,d){function g(b){function i(c){c&&(delete h[c.src],clearTimeout(z.timers.img[c.src]),a(c).unbind(F)),a.isEmptyObject(h)&&(z.redraw(),d!==e&&z.reposition(H.event),b())}var g,h={};if((g=f.find("img:not([height]):not([width])")).length===0)return i();g.each(function(b,d){if(h[d.src]===c){var e=0,f=3;(function g(){if(d.height||d.width||e>f)return i(d);e+=1,z.timers.img[d.src]=setTimeout(g,700)})(),a(d).bind("error"+F+" load"+F,function(){i(this)}),h[d.src]=d}})}var f=G.content;if(!z.rendered||!b)return e;a.isFunction(b)&&(b=b.call(s,H.event,z)||""),b.jquery&&b.length>0?f.empty().append(b.css({display:"block"})):f.html(b),z.rendered<0?E.queue("fx",g):(D=0,g(a.noop));return z}function O(b,c){var d=G.title;if(!z.rendered||!b)return e;a.isFunction(b)&&(b=b.call(s,H.event,z));if(b===e)return K(e);b.jquery&&b.length>0?d.empty().append(b.css({display:"block"})):d.html(b),z.redraw(),c!==e&&z.rendered&&E.is(":visible")&&z.reposition(H.event)}function N(a){var b=G.button,c=G.title;if(!z.rendered)return e;a?(c||M(),L()):b.remove()}function M(){var b=B+"-title";G.titlebar&&K(),G.titlebar=a("<div />",{"class":k+"-titlebar "+(t.style.widget?"ui-widget-header":"")}).append(G.title=a("<div />",{id:b,"class":k+"-title","aria-atomic":d})).insertBefore(G.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(b){a(this).toggleClass("ui-state-active ui-state-focus",b.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(b){a(this).toggleClass("ui-state-hover",b.type==="mouseover")}),t.content.title.button?L():z.rendered&&z.redraw()}function L(){var b=t.content.title.button,c=typeof b==="string",d=c?b:"Close tooltip";G.button&&G.button.remove(),b.jquery?G.button=b:G.button=a("<a />",{"class":"ui-state-default ui-tooltip-close "+(t.style.widget?"":k+"-icon"),title:d,"aria-label":d}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),G.button.appendTo(G.titlebar).attr("role","button").click(function(a){E.hasClass(m)||z.hide(a);return e}),z.redraw()}function K(a){G.title&&(G.titlebar.remove(),G.titlebar=G.title=G.button=f,a!==e&&z.reposition())}function J(){var a=t.style.widget;E.toggleClass(l,a).toggleClass(o,t.style["default"]&&!a),G.content.toggleClass(l+"-content",a),G.titlebar&&G.titlebar.toggleClass(l+"-header",a),G.button&&G.button.toggleClass(k+"-icon",!a)}function I(a){var b=0,c,d=t,e=a.split(".");while(d=d[e[b++]])b<e.length&&(c=d);return[c||t,e.pop()]}var z=this,A=document.body,B=k+"-"+w,C=0,D=0,E=a(),F=".qtip-"+w,G,H;z.id=w,z.rendered=e,z.elements=G={target:s},z.timers={img:{}},z.options=t,z.checks={},z.plugins={},z.cache=H={event:{},target:a(),disabled:e,attr:y,onTarget:e},z.checks.builtin={"^id$":function(b,c,f){var h=f===d?g.nextid:f,i=k+"-"+h;h!==e&&h.length>0&&!a("#"+i).length&&(E[0].id=i,G.content[0].id=i+"-content",G.title[0].id=i+"-title")},"^content.text$":function(a,b,c){P(c)},"^content.title.text$":function(a,b,c){if(!c)return K();!G.title&&c&&M(),O(c)},"^content.title.button$":function(a,b,c){N(c)},"^position.(my|at)$":function(a,b,c){"string"===typeof c&&(a[b]=new h.Corner(c))},"^position.container$":function(a,b,c){z.rendered&&E.appendTo(c)},"^show.ready$":function(){z.rendered?z.toggle(d):z.render(1)},"^style.classes$":function(a,b,c){E.attr("class",k+" qtip ui-helper-reset "+c)},"^style.widget|content.title":J,"^events.(render|show|move|hide|focus|blur)$":function(b,c,d){E[(a.isFunction(d)?"":"un")+"bind"]("tooltip"+c,d)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var a=t.position;E.attr("tracking",a.target==="mouse"&&a.adjust.mouse),R(),Q()}},a.extend(z,{render:function(b){if(z.rendered)return z;var c=t.content.text,f=t.content.title.text,g=t.position,i=a.Event("tooltiprender");a.attr(s[0],"aria-describedby",B),E=G.tooltip=a("<div/>",{id:B,"class":k+" qtip ui-helper-reset "+o+" "+t.style.classes+" "+k+"-pos-"+t.position.my.abbrev(),width:t.style.width||"",height:t.style.height||"",tracking:g.target==="mouse"&&g.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":e,"aria-describedby":B+"-content","aria-hidden":d}).toggleClass(m,H.disabled).data("qtip",z).appendTo(t.position.container).append(G.content=a("<div />",{"class":k+"-content",id:B+"-content","aria-atomic":d})),z.rendered=-1,C=D=1,f&&(M(),a.isFunction(f)||O(f,e)),a.isFunction(c)||P(c,e),z.rendered=d,J(),a.each(t.events,function(b,c){a.isFunction(c)&&E.bind(b==="toggle"?"tooltipshow tooltiphide":"tooltip"+b,c)}),a.each(h,function(){this.initialize==="render"&&this(z)}),Q(),E.queue("fx",function(a){i.originalEvent=H.event,E.trigger(i,[z]),C=D=0,z.redraw(),(t.show.ready||b)&&z.toggle(d,H.event,e),a()});return z},get:function(a){var b,c;switch(a.toLowerCase()){case"dimensions":b={height:E.outerHeight(),width:E.outerWidth()};break;case"offset":b=h.offset(E,t.position.container);break;default:c=I(a.toLowerCase()),b=c[0][c[1]],b=b.precedance?b.string():b}return b},set:function(b,c){function m(a,b){var c,d,e;for(c in k)for(d in k[c])if(e=(new RegExp(d,"i")).exec(a))b.push(e),k[c][d].apply(z,b)}var g=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,h=/^content\.(title|attr)|style/i,i=e,j=e,k=z.checks,l;"string"===typeof b?(l=b,b={},b[l]=c):b=a.extend(d,{},b),a.each(b,function(c,d){var e=I(c.toLowerCase()),f;f=e[0][e[1]],e[0][e[1]]="object"===typeof d&&d.nodeType?a(d):d,b[c]=[e[0],e[1],d,f],i=g.test(c)||i,j=h.test(c)||j}),x(t),C=D=1,a.each(b,m),C=D=0,E.is(":visible")&&z.rendered&&(i&&z.reposition(t.position.target==="mouse"?f:H.event),j&&z.redraw());return z},toggle:function(b,c){function q(){b?(a.browser.msie&&E[0].style.removeAttribute("filter"),E.css("overflow",""),"string"===typeof h.autofocus&&a(h.autofocus,E).focus(),p=a.Event("tooltipvisible"),p.originalEvent=c?H.event:f,E.trigger(p,[z]),h.target.trigger("qtip-"+w+"-inactive")):E.css({display:"",visibility:"",opacity:"",left:"",top:""})}if(!z.rendered)return b?z.render(1):z;var g=b?"show":"hide",h=t[g],j=E.is(":visible"),k=!c||t[g].target.length<2||H.target[0]===c.target,l=t.position,m=t.content,o,p;(typeof b).search("boolean|number")&&(b=!j);if(!E.is(":animated")&&j===b&&k)return z;if(c){if(/over|enter/.test(c.type)&&/out|leave/.test(H.event.type)&&c.target===t.show.target[0]&&E.has(c.relatedTarget).length)return z;H.event=a.extend({},c)}p=a.Event("tooltip"+g),p.originalEvent=c?H.event:f,E.trigger(p,[z,90]);if(p.isDefaultPrevented())return z;a.attr(E[0],"aria-hidden",!b),b?(H.origin=a.extend({},i),z.focus(c),a.isFunction(m.text)&&P(m.text,e),a.isFunction(m.title.text)&&O(m.title.text,e),!v&&l.target==="mouse"&&l.adjust.mouse&&(a(document).bind("mousemove.qtip",function(a){i={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),v=d),z.reposition(c,arguments[2]),(p.solo=!!h.solo)&&a(n,h.solo).not(E).qtip("hide",p)):(clearTimeout(z.timers.show),delete H.origin,v&&!a(n+'[tracking="true"]:visible',h.solo).not(E).length&&(a(document).unbind("mousemove.qtip"),v=e),z.blur(c)),k&&E.stop(0,1),h.effect===e?(E[g](),q.call(E)):a.isFunction(h.effect)?(h.effect.call(E,z),E.queue("fx",function(a){q(),a()})):E.fadeTo(90,b?1:0,q),b&&h.target.trigger("qtip-"+w+"-inactive");return z},show:function(a){return z.toggle(d,a)},hide:function(a){return z.toggle(e,a)},focus:function(b){if(!z.rendered)return z;var c=a(n),d=parseInt(E[0].style.zIndex,10),e=g.zindex+c.length,f=a.extend({},b),h,i;E.hasClass(p)||(i=a.Event("tooltipfocus"),i.originalEvent=f,E.trigger(i,[z,e]),i.isDefaultPrevented()||(d!==e&&(c.each(function(){this.style.zIndex>d&&(this.style.zIndex=this.style.zIndex-1)}),c.filter("."+p).qtip("blur",f)),E.addClass(p)[0].style.zIndex=e));return z},blur:function(b){var c=a.extend({},b),d;E.removeClass(p),d=a.Event("tooltipblur"),d.originalEvent=c,E.trigger(d,[z]);return z},reposition:function(c,d){if(!z.rendered||C)return z;C=1;var f=t.position.target,g=t.position,j=g.my,l=g.at,m=g.adjust,n=m.method.split(" "),o=E.outerWidth(),p=E.outerHeight(),q=0,r=0,s=a.Event("tooltipmove"),u=E.css("position")==="fixed",v=g.viewport,w={left:0,top:0},x=g.container,y=e,B=z.plugins.tip,D={horizontal:n[0],vertical:n[1]=n[1]||n[0],enabled:v.jquery&&f[0]!==b&&f[0]!==A&&m.method!=="none",left:function(a){var b=D.horizontal==="shift",c=-x.offset.left+v.offset.left+v.scrollLeft,d=j.x==="left"?o:j.x==="right"?-o:-o/2,e=l.x==="left"?q:l.x==="right"?-q:-q/2,f=B&&B.size?B.size.width||0:0,g=B&&B.corner&&B.corner.precedance==="x"&&!b?f:0,h=c-a+g,i=a+o-v.width-c+g,k=d-(j.precedance==="x"||j.x===j.y?e:0),n=j.x==="center";b?(g=B&&B.corner&&B.corner.precedance==="y"?f:0,k=(j.x==="left"?1:-1)*d-g,w.left+=h>0?h:i>0?-i:0,w.left=Math.max(-x.offset.left+v.offset.left+(g&&B.corner.x==="center"?B.offset:0),a-k,Math.min(Math.max(-x.offset.left+v.offset.left+v.width,a+k),w.left))):(h>0&&(j.x!=="left"||i>0)?w.left-=k:i>0&&(j.x!=="right"||h>0)&&(w.left-=n?-k:k),w.left!==a&&n&&(w.left-=m.x),w.left<c&&-w.left>i&&(w.left=a));return w.left-a},top:function(a){var b=D.vertical==="shift",c=-x.offset.top+v.offset.top+v.scrollTop,d=j.y==="top"?p:j.y==="bottom"?-p:-p/2,e=l.y==="top"?r:l.y==="bottom"?-r:-r/2,f=B&&B.size?B.size.height||0:0,g=B&&B.corner&&B.corner.precedance==="y"&&!b?f:0,h=c-a+g,i=a+p-v.height-c+g,k=d-(j.precedance==="y"||j.x===j.y?e:0),n=j.y==="center";b?(g=B&&B.corner&&B.corner.precedance==="x"?f:0,k=(j.y==="top"?1:-1)*d-g,w.top+=h>0?h:i>0?-i:0,w.top=Math.max(-x.offset.top+v.offset.top+(g&&B.corner.x==="center"?B.offset:0),a-k,Math.min(Math.max(-x.offset.top+v.offset.top+v.height,a+k),w.top))):(h>0&&(j.y!=="top"||i>0)?w.top-=k:i>0&&(j.y!=="bottom"||h>0)&&(w.top-=n?-k:k),w.top!==a&&n&&(w.top-=m.y),w.top<0&&-w.top>i&&(w.top=a));return w.top-a}},F;if(a.isArray(f)&&f.length===2)l={x:"left",y:"top"},w={left:f[0],top:f[1]};else if(f==="mouse"&&(c&&c.pageX||H.event.pageX))l={x:"left",y:"top"},c=(c&&(c.type==="resize"||c.type==="scroll")?H.event:c&&c.pageX&&c.type==="mousemove"?c:i&&i.pageX&&(m.mouse||!c||!c.pageX)?{pageX:i.pageX,pageY:i.pageY}:!m.mouse&&H.origin&&H.origin.pageX?H.origin:c)||c||H.event||i||{},w={top:c.pageY,left:c.pageX};else{f==="event"?c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?f=H.target=a(c.target):f=H.target:f=H.target=a(f.nodeType?f:G.target),f=a(f).eq(0);if(f.length===0)return z;f[0]===document||f[0]===b?(q=h.iOS?b.innerWidth:f.width(),r=h.iOS?b.innerHeight:f.height(),f[0]===b&&(w={top:u||h.iOS?(v||f).scrollTop():0,left:u||h.iOS?(v||f).scrollLeft():0})):f.is("area")&&h.imagemap?w=h.imagemap(f,l,D.enabled?n:e):f[0].namespaceURI==="http://www.w3.org/2000/svg"&&h.svg?w=h.svg(f,l):(q=f.outerWidth(),r=f.outerHeight(),w=h.offset(f,x)),w.offset&&(q=w.width,r=w.height,y=w.flipoffset,w=w.offset);if(h.iOS<4.1&&h.iOS>3.1||h.iOS==4.3||!h.iOS&&u)F=a(b),w.left-=F.scrollLeft(),w.top-=F.scrollTop();w.left+=l.x==="right"?q:l.x==="center"?q/2:0,w.top+=l.y==="bottom"?r:l.y==="center"?r/2:0}w.left+=m.x+(j.x==="right"?-o:j.x==="center"?-o/2:0),w.top+=m.y+(j.y==="bottom"?-p:j.y==="center"?-p/2:0),D.enabled?(v={elem:v,height:v[(v[0]===b?"h":"outerH")+"eight"](),width:v[(v[0]===b?"w":"outerW")+"idth"](),scrollLeft:u?0:v.scrollLeft(),scrollTop:u?0:v.scrollTop(),offset:v.offset()||{left:0,top:0}},x={elem:x,scrollLeft:x.scrollLeft(),scrollTop:x.scrollTop(),offset:x.offset()||{left:0,top:0}},w.adjusted={left:D.horizontal!=="none"?D.left(w.left):0,top:D.vertical!=="none"?D.top(w.top):0},w.adjusted.left+w.adjusted.top&&E.attr("class",E[0].className.replace(/ui-tooltip-pos-\w+/i,k+"-pos-"+j.abbrev())),y&&w.adjusted.left&&(w.left+=y.left),y&&w.adjusted.top&&(w.top+=y.top)):w.adjusted={left:0,top:0},s.originalEvent=a.extend({},c),E.trigger(s,[z,w,v.elem||v]);if(s.isDefaultPrevented())return z;delete w.adjusted,d===e||isNaN(w.left)||isNaN(w.top)||f==="mouse"||!a.isFunction(g.effect)?E.css(w):a.isFunction(g.effect)&&(g.effect.call(E,z,a.extend({},w)),E.queue(function(b){a(this).css({opacity:"",height:""}),a.browser.msie&&this.style.removeAttribute("filter"),b()})),C=0;return z},redraw:function(){if(z.rendered<1||D)return z;var a=t.position.container,b,c,d,e;D=1,t.style.height&&E.css("height",t.style.height),t.style.width?E.css("width",t.style.width):(E.css("width","").addClass(r),c=E.width()+1,d=E.css("max-width")||"",e=E.css("min-width")||"",b=(d+e).indexOf("%")>-1?a.width()/100:0,d=(d.indexOf("%")>-1?b:1)*parseInt(d,10)||c,e=(e.indexOf("%")>-1?b:1)*parseInt(e,10)||0,c=d+e?Math.min(Math.max(c,e),d):c,E.css("width",Math.round(c)).removeClass(r)),D=0;return z},disable:function(b){"boolean"!==typeof b&&(b=!E.hasClass(m)&&!H.disabled),z.rendered?(E.toggleClass(m,b),a.attr(E[0],"aria-disabled",b)):H.disabled=!!b;return z},enable:function(){return z.disable(e)},destroy:function(){var b=s[0],c=a.attr(b,u),d=s.data("qtip");z.rendered&&(E.remove(),a.each(z.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(z.timers.show),clearTimeout(z.timers.hide),R();if(!d||z===d)a.removeData(b,"qtip"),t.suppress&&c&&(a.attr(b,"title",c),s.removeAttr(u)),s.removeAttr("aria-describedby");s.unbind(".qtip-"+w),delete j[z.id];return s}})}function x(b){var c;if(!b||"object"!==typeof b)return e;if(b.metadata===f||"object"!==typeof b.metadata)b.metadata={type:b.metadata};if("content"in b){if(b.content===f||"object"!==typeof b.content||b.content.jquery)b.content={text:b.content};c=b.content.text||e,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(b.content.text=e);if("title"in b.content){if(b.content.title===f||"object"!==typeof b.content.title)b.content.title={text:b.content.title};c=b.content.title.text||e,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(b.content.title.text=e)}}if("position"in b)if(b.position===f||"object"!==typeof b.position)b.position={my:b.position,at:b.position};if("show"in b)if(b.show===f||"object"!==typeof b.show)b.show.jquery?b.show={target:b.show}:b.show={event:b.show};if("hide"in b)if(b.hide===f||"object"!==typeof b.hide)b.hide.jquery?b.hide={target:b.hide}:b.hide={event:b.hide};if("style"in b)if(b.style===f||"object"!==typeof b.style)b.style={classes:b.style};a.each(h,function(){this.sanitize&&this.sanitize(b)});return b}function w(){w.history=w.history||[],w.history.push(arguments);if("object"===typeof console){var a=console[console.warn?"warn":"log"],b=Array.prototype.slice.call(arguments),c;typeof arguments[0]==="string"&&(b[0]="qTip2: "+b[0]),c=a.apply?a.apply(console,b):a(b)}}"use strict";var d=!0,e=!1,f=null,g,h,i,j={},k="ui-tooltip",l="ui-widget",m="ui-state-disabled",n="div.qtip."+k,o=k+"-default",p=k+"-focus",q=k+"-hover",r=k+"-fluid",s="-31000px",t="_replacedByqTip",u="oldtitle",v;g=a.fn.qtip=function(b,h,i){var j=(""+b).toLowerCase(),k=f,l=a.makeArray(arguments).slice(1),m=l[l.length-1],n=this[0]?a.data(this[0],"qtip"):f;if(!arguments.length&&n||j==="api")return n;if("string"===typeof b){this.each(function(){var b=a.data(this,"qtip");if(!b)return d;m&&m.timeStamp&&(b.cache.event=m);if(j!=="option"&&j!=="options"||!h)b[j]&&b[j].apply(b[j],l);else if(a.isPlainObject(h)||i!==c)b.set(h,i);else{k=b.get(h);return e}});return k!==f?k:this}if("object"===typeof b||!arguments.length){n=x(a.extend(d,{},b));return g.bind.call(this,n,m)}},g.bind=function(b,f){return this.each(function(k){function r(b){function d(){p.render(typeof b==="object"||l.show.ready),m.show.add(m.hide).unbind(o)}if(p.cache.disabled)return e;p.cache.event=a.extend({},b),p.cache.target=b?a(b.target):[c],l.show.delay>0?(clearTimeout(p.timers.show),p.timers.show=setTimeout(d,l.show.delay),n.show!==n.hide&&m.hide.bind(n.hide,function(){clearTimeout(p.timers.show)})):d()}var l,m,n,o,p,q;q=a.isArray(b.id)?b.id[k]:b.id,q=!q||q===e||q.length<1||j[q]?g.nextid++:j[q]=q,o=".qtip-"+q+"-create",p=z.call(this,q,b);if(p===e)return d;l=p.options,a.each(h,function(){this.initialize==="initialize"&&this(p)}),m={show:l.show.target,hide:l.hide.target},n={show:a.trim(""+l.show.event).replace(/ /g,o+" ")+o,hide:a.trim(""+l.hide.event).replace(/ /g,o+" ")+o},/mouse(over|enter)/i.test(n.show)&&!/mouse(out|leave)/i.test(n.hide)&&(n.hide+=" mouseleave"+o),m.show.bind("mousemove"+o,function(a){i={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),m.show.bind(n.show,r),(l.show.ready||l.prerender)&&r(f)})},h=g.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var b=a.charAt(0);this.precedance=b==="t"||b==="b"?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y},this.abbrev=function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:a==="c"||a!=="c"&&b!=="c"?b+a:a+b},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(a,b){function i(a,b){c.left+=b*a.scrollLeft(),c.top+=b*a.scrollTop()}var c=a.offset(),d=b,e=0,f=document.body,g,h;if(d){do{d.css("position")!=="static"&&(g=d[0]===f?{left:parseInt(d.css("left"),10)||0,top:parseInt(d.css("top"),10)||0}:d.position(),c.left-=g.left+(parseInt(d.css("borderLeftWidth"),10)||0)+(parseInt(d.css("marginLeft"),10)||0),c.top-=g.top+(parseInt(d.css("borderTopWidth"),10)||0),h=d.css("overflow"),(h==="scroll"||h==="auto")&&++e);if(d[0]===f)break}while(d=d.offsetParent());b[0]!==f&&e&&i(b,1)}return c},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||e,fn:{attr:function(b,c){if(this.length){var d=this[0],e="title",f=a.data(d,"qtip");if(b===e&&f&&"object"===typeof f&&f.options.suppress){if(arguments.length<2)return a.attr(d,u);f&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",c);return this.attr(u,c)}}return a.fn["attr"+t].apply(this,arguments)},clone:function(b){var c=a([]),d="title",e=a.fn["clone"+t].apply(this,arguments);b||e.filter("["+u+"]").attr("title",function(){return a.attr(this,u)}).removeAttr(u);return e},remove:a.ui?f:function(b,c){a.ui||a(this).each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}}},a.each(h.fn,function(b,c){if(!c||a.fn[b+t])return d;var e=a.fn[b+t]=a.fn[b];a.fn[b]=function(){return c.apply(this,arguments)||e.apply(this,arguments)}}),g.version="2.0.0pre",g.nextid=0,g.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),g.zindex=15e3,g.defaults={prerender:e,id:e,overwrite:d,suppress:d,content:{text:d,attr:"title",title:{text:e,button:e}},position:{my:"top left",at:"bottom right",target:e,container:e,viewport:e,adjust:{x:0,y:0,mouse:d,resize:d,method:"flip flip"},effect:function(b,c,d){a(this).animate(c,{duration:200,queue:e})}},show:{target:e,event:"mouseenter",effect:d,delay:90,solo:e,ready:e,autofocus:e},hide:{target:e,event:"mouseleave",effect:d,delay:0,fixed:e,inactive:e,leave:"window",distance:e},style:{classes:"",widget:e,width:e,height:e,"default":d},events:{render:f,move:f,show:f,hide:f,toggle:f,visible:f,focus:f,blur:f}},h.ajax=function(a){var b=a.plugins.ajax;return"object"===typeof b?b:a.plugins.ajax=new A(a)},h.ajax.initialize="render",h.ajax.sanitize=function(a){var b=a.content,c;b&&"ajax"in b&&(c=b.ajax,typeof c!=="object"&&(c=a.content.ajax={url:c}),"boolean"!==typeof c.once&&c.once&&(c.once=!!c.once))},a.extend(d,g.defaults,{content:{ajax:{loading:d,once:d}}}),h.bgiframe=function(b){var c=a.browser,d=b.plugins.bgiframe;if(a("select, object").length<1||(!c.msie||(""+c.version).charAt(0)!=="6"))return e;return"object"===typeof d?d:b.plugins.bgiframe=new B(b)},h.bgiframe.initialize="render",h.imagemap=function(b,c,d){function n(a,b,c){var d=0,e=1,f=1,g=0,h=0,i=a.width,j=a.height;while(i>0&&j>0&&e>0&&f>0){i=Math.floor(i/2),j=Math.floor(j/2),c.x==="left"?e=i:c.x==="right"?e=a.width-i:e+=Math.floor(i/2),c.y==="top"?f=j:c.y==="bottom"?f=a.height-j:f+=Math.floor(j/2),d=b.length;while(d--){if(b.length<2)break;g=b[d][0]-a.offset.left,h=b[d][1]-a.offset.top,(c.x==="left"&&g>=e||c.x==="right"&&g<=e||c.x==="center"&&(g<e||g>a.width-e)||c.y==="top"&&h>=f||c.y==="bottom"&&h<=f||c.y==="center"&&(h<f||h>a.height-f))&&b.splice(d,1)}}return{left:b[0][0],top:b[0][1]}}b.jquery||(b=a(b));var e=(b[0].shape||b.attr("shape")).toLowerCase(),f=(b[0].coords||b.attr("coords")).split(","),g=[],h=a('img[usemap="#'+b.parent("map").attr("name")+'"]'),i=h.offset(),j={width:0,height:0,offset:{top:1e10,right:0,bottom:0,left:1e10}},k=0,l=0,m;i.left+=Math.ceil((h.outerWidth()-h.width())/2),i.top+=Math.ceil((h.outerHeight()-h.height())/2);if(e==="poly"){k=f.length;while(k--)l=[parseInt(f[--k],10),parseInt(f[k+1],10)],l[0]>j.offset.right&&(j.offset.right=l[0]),l[0]<j.offset.left&&(j.offset.left=l[0]),l[1]>j.offset.bottom&&(j.offset.bottom=l[1]),l[1]<j.offset.top&&(j.offset.top=l[1]),g.push(l)}else g=a.map(f,function(a){return parseInt(a,10)});switch(e){case"rect":j={width:Math.abs(g[2]-g[0]),height:Math.abs(g[3]-g[1]),offset:{left:Math.min(g[0],g[2]),top:Math.min(g[1],g[3])}};break;case"circle":j={width:g[2]+2,height:g[2]+2,offset:{left:g[0],top:g[1]}};break;case"poly":a.extend(j,{width:Math.abs(j.offset.right-j.offset.left),height:Math.abs(j.offset.bottom-j.offset.top)}),c.string()==="centercenter"?j.offset={left:j.offset.left+j.width/2,top:j.offset.top+j.height/2}:(j.offset=n(j,g.slice(),c),d&&(d[0]==="flip"||d[1]==="flip")&&(j.flipoffset=n(j,g.slice(),{x:c.x==="left"?"right":c.x==="right"?"left":"center",y:c.y==="top"?"bottom":c.y==="bottom"?"top":"center"}),j.flipoffset.left-=j.offset.left,j.flipoffset.top-=j.offset.top)),j.width=j.height=0}j.offset.left+=i.left,j.offset.top+=i.top;return j},h.modal=function(a){var b=a.plugins.modal;return"object"===typeof b?b:a.plugins.modal=new C(a)},h.modal.initialize="render",h.modal.sanitize=function(a){a.show&&(typeof a.show.modal!=="object"?a.show.modal={on:!!a.show.modal}:typeof a.show.modal.on==="undefined"&&(a.show.modal.on=d))},h.modal.zindex=g.zindex+1e3,a.extend(d,g.defaults,{show:{modal:{on:e,effect:d,blur:d,escape:d}}}),h.svg=function(b,c){var d=a(document),e=b[0],f={width:0,height:0,offset:{top:1e10,left:1e10}},g,h,i,j,k;if(e.getBBox&&e.parentNode){g=e.getBBox(),h=e.getScreenCTM(),i=e.farthestViewportElement||e;if(!i.createSVGPoint)return f;j=i.createSVGPoint(),j.x=g.x,j.y=g.y,k=j.matrixTransform(h),f.offset.left=k.x,f.offset.top=k.y,j.x+=g.width,j.y+=g.height,k=j.matrixTransform(h),f.width=k.x-f.offset.left,f.height=k.y-f.offset.top,f.offset.left+=d.scrollLeft(),f.offset.top+=d.scrollTop()}return f},h.tip=function(a){var b=a.plugins.tip;return"object"===typeof b?b:a.plugins.tip=new E(a)},h.tip.initialize="render",h.tip.sanitize=function(a){var b=a.style,c;b&&"tip"in b&&(c=a.style.tip,typeof c!=="object"&&(a.style.tip={corner:c}),/string|boolean/i.test(typeof c.corner)||(c.corner=d),typeof c.width!=="number"&&delete c.width,typeof c.height!=="number"&&delete c.height,typeof c.border!=="number"&&c.border!==d&&delete c.border,typeof c.offset!=="number"&&delete c.offset)},a.extend(d,g.defaults,{style:{tip:{corner:d,mimic:e,width:6,height:6,border:d,offset:0}}})})(jQuery,window);(function(e){e.color={};e.color.make=function(c,a,d,f){var b={};b.r=c||0;b.g=a||0;b.b=d||0;b.a=null!=f?f:1;b.add=function(a,c){for(var d=0;d<a.length;++d)b[a.charAt(d)]+=c;return b.normalize()};b.scale=function(a,d){for(var c=0;c<a.length;++c)b[a.charAt(c)]*=d;return b.normalize()};b.toString=function(){return 1<=b.a?"rgb("+[b.r,b.g,b.b].join()+")":"rgba("+[b.r,b.g,b.b,b.a].join()+")"};b.normalize=function(){function a(b,c,d){return c<b?b:c>d?d:c}b.r=a(0,parseInt(b.r),255);b.g=a(0,parseInt(b.g),255);
b.b=a(0,parseInt(b.b),255);b.a=a(0,b.a,1);return b};b.clone=function(){return e.color.make(b.r,b.b,b.g,b.a)};return b.normalize()};e.color.extract=function(c,a){var d;do{d=c.css(a).toLowerCase();if(""!=d&&"transparent"!=d)break;c=c.parent()}while(!e.nodeName(c.get(0),"body"));"rgba(0, 0, 0, 0)"==d&&(d="transparent");return e.color.parse(d)};e.color.parse=function(c){var a,d=e.color.make;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return d(parseInt(a[1],10),parseInt(a[2],
10),parseInt(a[3],10));if(a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return d(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4]));if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return d(2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]));if(a=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return d(2.55*
parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]),parseFloat(a[4]));if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return d(parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16));if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return d(parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16));c=e.trim(c).toLowerCase();if("transparent"==c)return d(255,255,255,0);a=g[c]||[0,0,0];return d(a[0],a[1],a[2])};var g={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(a){function r(c,d,b){c.value=a(d).text();a(c).change();a.browser.msie||c.focus();b.hide()}function n(c,a){var b=c.getHours(),h=a.show24Hours?b:(b+11)%12+1,f=c.getMinutes();return(10>h?"0":"")+h+a.separator+((10>f?"0":"")+f)+(a.show24Hours?"":12>b?" AM":" PM")}function o(c,a){return"object"==typeof c?p(c):q(c,a)}function q(a,d){if(a){var b=a.split(d.separator),h=parseFloat(b[0]),b=parseFloat(b[1]);d.show24Hours||(12===h&&-1!==a.indexOf("AM")?h=0:12!==h&&-1!==a.indexOf("PM")&&(h+=12));return p(new Date(0,
0,0,h,b,0))}return null}function p(a){a.setFullYear(2001);a.setMonth(0);a.setDate(0);return a}a.fn.timePicker=function(c){var d=a.extend({},a.fn.timePicker.defaults,c);return this.each(function(){a.timePicker(this,d)})};a.timePicker=function(c,d){var b=a(c)[0];return b.timePicker||(b.timePicker=new jQuery._timePicker(b,d))};a.timePicker.version="0.3";a._timePicker=function(c,d){var b=!1,h=!1,f=o(d.startTime,d),s=o(d.endTime,d);a(c).attr("autocomplete","OFF");for(var l=[],j=new Date(f);j<=s;)l[l.length]=
n(j,d),j=new Date(j.setMinutes(j.getMinutes()+d.step));for(var e=a('<div class="time-picker'+(d.show24Hours?"":" time-picker-12hours")+'"></div>'),k=a("<ul></ul>"),j=0;j<l.length;j++)k.append("<li>"+l[j]+"</li>");e.append(k);e.appendTo("body").hide();e.mouseover(function(){b=!0}).mouseout(function(){b=!1});a("li",k).mouseover(function(){h||(a("li.selected",e).removeClass("selected"),a(this).addClass("selected"))}).mousedown(function(){b=!0}).click(function(){r(c,this,e,d);b=!1});var m=function(){if(e.is(":visible"))return!1;
a("li",e).removeClass("selected");var g=a(c).offset();e.css({top:g.top+c.offsetHeight,left:g.left});e.show();var b=c.value?q(c.value,d):f,g=60*f.getHours()+f.getMinutes(),b=60*b.getHours()+b.getMinutes()-g,b=Math.round(b/d.step),g=p(new Date(0,0,0,0,b*d.step+g,0)),g=f<g&&g<=s?g:f,g=a("li:contains("+n(g,d)+")",e);if(g.length)g.addClass("selected"),e[0].scrollTop=g[0].offsetTop;return!0};a(c).focus(m).click(m);a(c).blur(function(){b||e.hide()});l=a.browser.opera||a.browser.mozilla?"keypress":"keydown";
a(c)[l](function(b){h=!0;var f=e[0].scrollTop;switch(b.keyCode){case 38:if(m())return!1;var b=a("li.selected",k),i=b.prev().addClass("selected")[0];if(i){if(b.removeClass("selected"),i.offsetTop<f)e[0].scrollTop=f-i.offsetHeight}else b.removeClass("selected"),i=a("li:last",k).addClass("selected")[0],e[0].scrollTop=i.offsetTop-i.offsetHeight;return!1;case 40:if(m())return!1;b=a("li.selected",k);if(i=b.next().addClass("selected")[0]){if(b.removeClass("selected"),i.offsetTop+i.offsetHeight>f+e[0].offsetHeight)e[0].scrollTop=
f+i.offsetHeight}else b.removeClass("selected"),a("li:first",k).addClass("selected"),e[0].scrollTop=0;return!1;case 13:return e.is(":visible")&&(f=a("li.selected",k)[0],r(c,f,e,d)),!1;case 27:return e.hide(),!1}return!0});a(c).keyup(function(){h=!1});this.getTime=function(){return q(c.value,d)};this.setTime=function(b){c.value=n(o(b,d),d);a(c).change()}};a.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:!0}})(jQuery);
var ved="div.view_event_details",ced="#com_event_dialog",ccd="#create_calendar_dialog",mcd="#modify_calendar_dialog",dcd="#delete_calendar_dialog";
$(document).ready(function(){load_i18n_strings();$("body").hasClass("loginpage")?($("input:submit").button(),$('input[name="user"]').focus()):$("body").hasClass("calendarpage")&&(set_default_datepicker_options(),set_default_colorpicker_options(),$("#calendar_view").fullCalendar({selectable:!0,editable:!0,firstDay:prefs_firstday,timeFormat:{agenda:prefs_timeformat+"{ - "+prefs_timeformat+"}","":prefs_timeformat},columnFormat:{month:prefs_format_column_month,week:prefs_format_column_week,day:prefs_format_column_day},
titleFormat:{month:prefs_format_title_month,week:prefs_format_title_week,day:prefs_format_title_day},weekMode:"liquid",aspectRatio:1.2,height:calendar_height(),windowResize:function(){$(this).fullCalendar("option","height",calendar_height())},header:{left:"month,agendaWeek,agendaDay",center:"title",right:"today prev,next"},monthNames:_("labels","months_long"),monthNamesShort:_("labels","months_short"),dayNames:_("labels","daynames_long"),dayNamesShort:_("labels","daynames_short"),buttonText:{today:_("labels",
"today"),month:_("labels","month"),week:_("labels","week"),day:_("labels","day")},theme:!0,allDayText:_("labels","allday"),axisFormat:prefs_timeformat,slotMinutes:30,firstHour:8,allDayDefault:!1,loading:function(a){a?$("#calendar_view").mask(_("messages","overlay_synchronizing"),500):$("#calendar_view").unmask()},eventRender:function(a,b){b.qtip({content:{text:event_bubble_content(a),title:{text:a.title,button:!0}},position:{my:"bottom center",at:"top center",viewport:$("#calendar_view")},style:{classes:"view_event_details ui-tooltip-shadow",
tip:!0,widget:!0},show:{target:$("#calendar_view"),event:!1,solo:$("#calendar_view"),effect:!1},hide:{fixed:!0,event:"unfocus",effect:!1},events:{show:function(a,b){$(window).on("keydown.tooltipevents",function(a){a.keyCode===$.ui.keyCode.ESCAPE&&b.hide(a)});var e=b.elements.tooltip.find("div.actions").find("button.addicon").button();add_button_icons(e)},hide:function(a){void 0!=a.originalEvent?(a=$(a.originalEvent.target).parents(),a=1<a.length&&1==a.andSelf().filter(".fc-event").length):a=!1;set_data("tooltip_hide_clicked_event",
a);a=get_data("current_event");set_data("recently_hidden_event",a);$(window).off("keydown.tooltipevents")}}})},eventClick:function(a,b){var c=get_data("recently_hidden_event"),d=get_data("tooltip_hide_clicked_event");remove_data("current_event");if(c!=a||!1===d&&c==a)set_data("current_event",a),$(this).qtip("show",b);remove_data("recently_hidden_event");remove_data("tooltip_hide_clicked_event")},select:function(a,b,c,d,e){c="month"==e.name?!1:c;a={start:fulldatetimestring(a),end:fulldatetimestring(b),
allday:c,view:e.name,current_calendar:$("#calendar_list li.selected_calendar").data().calendar};$("#calendar_view").fullCalendar("unselect");event_field_form("new",a)},selectHelper:function(a,b){var c=$("#calendar_list li.selected_calendar").data().color;return $('<div style="background-color: '+c+'" class="selecthelper"/>').text($.fullCalendar.formatDates(a,b,prefs_timeformat+"{ - "+prefs_timeformat+"}"))},eventResize:function(a,b,c,d,e,f,g){b=generate_on_the_fly_form(base_app_url+"caldav2json/resize_or_drag_event",
{uid:a.uid,calendar:a.calendar,etag:a.etag,view:g.name,dayDelta:b,minuteDelta:c,allday:a.allDay,was_allday:a.was_allday,timezone:a.timezone,type:"resize"});if("ok"==get_data("formcreation")){var h=$("#"+b);proceed_send_ajax_form(h,function(b){update_single_event(a,b)},function(a){show_error(_("messages","error_modfailed"),a);d()},function(){d()})}$(h).remove()},eventDrop:function(a,b,c,d,e,f,g,h){b=generate_on_the_fly_form(base_app_url+"caldav2json/resize_or_drag_event",{uid:a.uid,calendar:a.calendar,
etag:a.etag,view:h.name,dayDelta:b,minuteDelta:c,allday:a.allDay,was_allday:a.orig_allday,timezone:a.timezone,type:"drag"});if("ok"==get_data("formcreation")){var i=$("#"+b);proceed_send_ajax_form(i,function(b){update_single_event(a,b)},function(a){show_error(_("messages","error_modfailed"),a);e()},function(){e()})}$(i).remove()}}),$("#calendar_view td.fc-header-right").append('<span class="fc-header-space"></span><span class="fc-button-refresh">'+_("labels","refresh")+"</span>"),$("#calendar_view span.fc-button-refresh").button().on("click",
function(){$("#calendar_view").fullCalendar("refetchEvents")}),$("#calendar_view span.fc-button-today").after('<span class="fc-header-space"></span><span class="fc-button-datepicker"><img src="'+base_url+'/img/datepicker.gif" alt="'+_("labels","choose_date")+'" /></span><input type="hidden" id="datepicker_fullcalendar" />'),$("#datepicker_fullcalendar").datepicker({changeYear:!0,closeText:_("labels","cancel"),onSelect:function(){var a=$("#datepicker_fullcalendar").datepicker("getDate");$("#calendar_view").fullCalendar("gotoDate",
a)}}),$("#calendar_view span.fc-button-datepicker").on("click",function(){$("#datepicker_fullcalendar").datepicker("setDate",$("#calendar_view").fullCalendar("getDate"));$("#datepicker_fullcalendar").datepicker("show")}),$(document).on("click","button.link_delete_event",function(){var a=get_data("current_event");if(void 0===a)show_error(_("messages","error_interfacefailure"),_("messages","error_current_event_not_loaded"));else return load_generated_dialog("dialog_generator/delete_event",{},function(){$("#delete_event_dialog span.calendar").html(get_calendar_displayname(a.calendar));
$("#delete_event_dialog p.title").html(a.title);void 0===a.rrule&&$("#delete_event_dialog div.rrule").hide();var b=$("#delete_form");b.find("input.uid").val(a.uid);b.find("input.calendar").val(a.calendar);b.find("input.href").val(a.href);b.find("input.etag").val(a.etag)},_("labels","deleteevent"),[{text:_("labels","yes"),"class":"addicon btn-icon-event-delete",click:function(){var a=$("#delete_form");proceed_send_ajax_form(a,function(){$("#calendar_view").fullCalendar("removeEvents",get_data("current_event").id)},
function(a){show_error(_("messages","error_event_not_deleted"),a)},function(){});destroy_dialog("#delete_event_dialog")}},{text:_("labels","cancel"),"class":"addicon btn-icon-cancel",click:function(){destroy_dialog("#delete_event_dialog")}}],"delete_event_dialog",400),$(this).parents(ved).qtip("hide"),!1}),$("#calendar_view").fullCalendar("renderEvent",{title:"Little portal",start:"1985-02-15T00:00:00Z",end:"1985-02-15T23:59:59Z",allDay:!0,editable:!1,color:"#E78AEF"},!0),$(document).on("click","button.link_edit_event",
function(){var a=get_data("current_event");if(void 0===a)show_error(_("messages","error_interfacefailure"),_("messages","error_current_event_not_loaded"));else return a={uid:a.uid,calendar:a.calendar,href:a.href,etag:a.etag,start:fulldatetimestring(a.start),end:fulldatetimestring(a.end),summary:a.title,location:a.location,allday:a.allDay,description:a.description,rrule:a.rrule,rrule_serialized:a.rrule_serialized,rrule_explained:a.rrule_explained,icalendar_class:a.icalendar_class,transp:a.transp,recurrence_id:a.recurrence_id,
orig_start:fulldatetimestring($.fullCalendar.parseDate(a.orig_start)),orig_end:fulldatetimestring($.fullCalendar.parseDate(a.orig_end))},$(this).parents(ved).qtip("hide"),event_field_form("modify",a),!1}),$("#calendar_list").on("click","li.available_calendar",function(){$("#calendar_list li.selected_calendar").removeClass("selected_calendar");$(this).addClass("selected_calendar")}),$("#calendar_list").on("dblclick","li.available_calendar",function(a){a.preventDefault();calendar_modify_form(this)}),
update_calendar_list(!0),$("#calendar_list").on("click","#calendar_list_refresh",function(){update_calendar_list(!0)}),$("#calendar_list").on("click","#calendar_add",calendar_create_form),$("#shortcut_add_event").button({icons:{primary:"ui-icon-plusthick"}}).on("click",function(){var a={start:fulldatetimestring($("#calendar_view").fullCalendar("getDate")),allday:!1,view:"month",current_calendar:$("#calendar_list li.selected_calendar").data().calendar};$("#calendar_view").fullCalendar("unselect");
event_field_form("new",a)}))});function calendar_height(){var a=$("#calendar_view").offset();return $(window).height()-Math.ceil(a.top)-10}function show_error(a,b){$("#popup").freeow(a,b,{classes:["popup_error"],autoHide:!1,showStyle:{opacity:1,left:0},hideStyle:{opacity:0,left:"400px"}})}function show_success(a,b){$("#popup").freeow(a,b,{classes:["popup_success"],autoHide:!0,autoHideDelay:2E3,showStyle:{opacity:1,left:0},hideStyle:{opacity:0,left:"400px"}})}
function get_data(a){return $("body").data(a)}function set_data(a,b){$("body").data(a,b)}function remove_data(a){$("body").removeData(a)}
function load_generated_dialog(a,b,c,d,e,f,g){f="#"+f;if(0!=$(f).length)return!1;b=generate_on_the_fly_form(base_app_url+"caldav2json/edit_event",b);if("ok"==get_data("formcreation")){b=$("#"+b);$(b).attr("action");var h=$(b).serialize();$("body").mask(_("messages","overlay_loading_dialog"),500);a=$.ajax({url:base_app_url+a,cache:!1,type:"POST",data:h,dataType:"html"});a.then(function(){$("body").unmask()});a.fail(function(a,b){show_error(_("messages","error_loading_dialog"),_("messages","error_oops")+
": "+b)});a.done(function(a){$("body").append(a);$(f).dialog({autoOpen:!0,buttons:e,title:d,minWidth:g,modal:!0,open:function(a){c();$(f).dialog("option","position","center");a=$(a.target).parent().find(".ui-dialog-buttonset").children();add_button_icons(a)},close:function(){$(this).remove()}})});$(b).remove()}else show_error(_("messages","error_interfacefailure"),_("messages","error_oops"))}
function proceed_send_ajax_form(a,b,c,d){var e=$(a).attr("action"),a=$(a).serialize();$("body").mask(_("messages","overlay_sending_form"),1E3);e=$.ajax({url:e,cache:!1,type:"POST",data:a,dataType:"json"});e.then(function(){$("body").unmask()});e.fail(function(a,b){show_error(_("messages","error_interfacefailure"),_("messages","error_oops")+":"+b);set_data("lastoperation","failed");d()});e.done(function(a){var e=a.result,a=a.message;"ERROR"==e?(set_data("lastoperation","failed"),show_error(_("messages",
"error_internal"),a),d()):"EXCEPTION"==e?(set_data("lastoperation","failed"),c(a)):"SUCCESS"==e?(set_data("lastoperation","success"),b(a)):show_error(_("messages","error_internal"),_("messages","error_oops")+":"+e)})}
function generate_on_the_fly_form(a,b){for(var c="",d=0;10>d;d++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));d=$.ajax({url:base_app_url+"dialog_generator/on_the_fly_form/"+c,cache:!1,type:"POST",contentType:"text",dataType:"text",async:!1});d.fail(function(){session_expired();set_data("formcreation","failed")});d.done(function(d){$("body").append(d);$("#"+c).attr("action",a);$.each(b,function(a,b){$("#"+c).append('<input type="hidden" name="'+
a+'" value="'+b+'" />')});set_data("formcreation","ok")});return c}function destroy_dialog(a){$(a).dialog("close");$(a).dialog("destroy");$(a).remove()}
function set_default_datepicker_options(){$.datepicker.regional.custom={closeText:_("labels","close"),prevText:_("labels","previous"),nextText:_("labels","next"),currentText:_("labels","today"),monthNames:_("labels","months_long"),monthNamesShort:_("labels","months_short"),dayNames:_("labels","daynames_long"),dayNamesShort:_("labels","daynames_short"),dayNamesMin:_("labels","daynames_short"),weekHeader:"Sm",firstDay:prefs_firstday,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};$.datepicker.setDefaults($.datepicker.regional.custom);
$.datepicker.setDefaults({constrainInput:!0});$.datepicker.setDefaults({dateFormat:prefs_dateformat})}function set_end_minDate(){var a=ced+" input.end_date",b=ced+" input.recurrence_until",c=$(ced+" input.start_date").datepicker("getDate");$(ced+" input.allday").is(":checked")&&c.setTime(c.getTime()+864E5);$(a).datepicker("option","minDate",c);$(b).datepicker("option","minDate",c)}
function update_recurrency_options(a){"none"==a?($(ced+" input.recurrence_count").val(""),$(ced+" input.recurrence_until").val(""),$(ced+" input.recurrence_count").attr("disabled","disabled"),$(ced+" input.recurrence_count").addClass("ui-state-disabled"),$(ced+' label[for="recurrence_count"]').addClass("ui-state-disabled"),$(ced+" input.recurrence_until").attr("disabled","disabled"),$(ced+" input.recurrence_until").datepicker("disable"),$(ced+" input.recurrence_until").addClass("ui-state-disabled"),
$(ced+' label[for="recurrence_until"]').addClass("ui-state-disabled")):(enforce_exclusive_recurrence_field("recurrence_count","recurrence_until"),enforce_exclusive_recurrence_field("recurrence_until","recurrence_count"))}
function event_field_form(a,b){var c="dialog_generator/",d;"new"==a?(c+="create_event",d=_("labels","createevent")):(c+="edit_event",d=_("labels","editevent"));load_generated_dialog(c,b,function(){var b={show24Hours:"24"==prefs_timeformat_option?!0:!1,separator:":",step:30};$(ced+"_tabs").tabs();$(ced+" input.start_time").timePicker(b);$(ced+" input.end_time").timePicker(b);$(ced+" input.start_date").datepicker({onSelect:function(){set_end_minDate()}});$(ced+" input.end_date").datepicker();$(ced+
" input.recurrence_until").datepicker();$(ced+" input.end_time").data("untouched",!0);set_end_minDate();update_recurrency_options($(ced+" select.recurrence_type").val());$(ced).on("change","input.allday",function(){var a=$(ced+" input.start_date").datepicker("getDate");set_end_minDate();$(this).is(":checked")?($(ced+" input.start_time").hide(),$(ced+" input.end_time").hide()):($(ced+" input.end_date").removeAttr("disabled"),$(ced+" input.end_date").removeClass("ui-state-disabled"),$(ced+" input.end_date").datepicker("setDate",
a),$(ced+" input.start_time").show(),$(ced+" input.end_time").show())});$(ced).on("change","select.recurrence_type",function(){$(this).val();update_recurrency_options($(this).val())});$(ced).on("change","input.recurrence_count",function(){enforce_exclusive_recurrence_field("recurrence_count","recurrence_until")});$(ced).on("change","input.recurrence_until",function(){enforce_exclusive_recurrence_field("recurrence_until","recurrence_count")});var c=$.timePicker(ced+" input.start_time").getTime(),d=
$.timePicker(ced+" input.end_time").getTime()-c.getTime();$(ced).on("change","input.start_time",function(){if($(ced+" input.end_time").data("untouched")){var a=$.timePicker(ced+" input.start_time").getTime(),b=$.timePicker(ced+" input.end_time").getTime()-c.getTime();$.timePicker(ced+" input.end_time").setTime(new Date(a.getTime()+b));c=a}});$(ced).on("change","input.end_time",function(){$.timePicker(this).getTime()-$.timePicker(ced+" input.start_time").getTime()!=d&&$(this).data("untouched",!1)});
"new"==a&&$('input[name="summary"]').focus()},d,[{text:_("labels","save"),"class":"addicon btn-icon-event-edit",click:function(){var a=$("#com_form");proceed_send_ajax_form(a,function(a){$.each(a,function(a,b){reload_event_source(b)});destroy_dialog(ced)},function(a){show_error(_("messages","error_invalidinput"),a)},function(){})}},{text:_("labels","cancel"),"class":"addicon btn-icon-cancel",click:function(){destroy_dialog(ced)}}],"com_event_dialog",500)}
function update_single_event(a,b){$.each(b,function(b,d){a[b]=d});$("#calendar_view").fullCalendar("updateEvent",a)}
function calendar_create_form(){var a=_("labels","newcalendar");load_generated_dialog("dialog_generator/create_calendar",{},function(){$("input.pick_color").colorPicker()},a,[{text:_("labels","create"),"class":"addicon btn-icon-calendar-add",click:function(){var a=$("#calendar_create_form");proceed_send_ajax_form(a,function(){destroy_dialog(ccd);update_calendar_list(!1)},function(a){show_error(_("messages","error_invalidinput"),a)},function(){})}},{text:_("labels","cancel"),"class":"addicon btn-icon-cancel",
click:function(){destroy_dialog(ccd)}}],"create_calendar_dialog",500)}
function calendar_modify_form(a){var b=_("labels","modifycalendar"),c=$(a).data(),d={calendar:c.calendar,color:c.color,displayname:c.displayname,sid:c.sid,shared:c.shared,user_from:c.user_from,url:c.url},e=[{text:_("labels","deletecalendar"),"class":"addicon btn-icon-calendar-delete",click:function(){destroy_dialog(mcd);load_generated_dialog("dialog_generator/delete_calendar",{calendar:$(a).data().calendar,displayname:$(a).data().displayname},function(){},_("labels","delete"),[{text:_("labels","yes"),
"class":"addicon btn-icon-calendar-delete",click:function(){var b=$("#delete_calendar_form");proceed_send_ajax_form(b,function(){$(a).data();$("#calendar_view").fullCalendar("removeEventSource",$(a).data().eventsource);$(a).hasClass("selected_calendar")&&$("#calendar_list li.available_calendar:first").click();$(a).remove()},function(a){show_error(_("labels","error_caldelete"),a)},function(){});destroy_dialog(dcd)}},{text:_("labels","cancel"),"class":"addicon btn-icon-cancel",click:function(){destroy_dialog(dcd)}}],
"delete_calendar_dialog",500)}},{text:_("labels","save"),"class":"addicon btn-icon-calendar-edit",click:function(){var a=$("#modify_calendar_form");proceed_send_ajax_form(a,function(){destroy_dialog(mcd);update_calendar_list(!1)},function(a){show_error(_("messages","error_invalidinput"),a)},function(){})}},{text:_("labels","cancel"),"class":"addicon btn-icon-cancel",click:function(){destroy_dialog(mcd)}}];!0===c.shared&&e.splice(0,1);load_generated_dialog("dialog_generator/modify_calendar",d,function(){$("input.pick_color").colorPicker();
$(mcd+"_tabs").tabs();$("input.share_with").tagit({caseSensitive:!1,removeConfirmation:!0})},b,e,"modify_calendar_dialog",500)}
function update_calendar_list(a){a&&$("body").mask(_("messages","overlay_loading_calendar_list"),500);var b=$.ajax({url:base_app_url+"caldav2json/calendar_list",cache:!1,dataType:"json",async:!1});b.then(function(){a&&$("body").unmask()});b.fail(function(a,b){show_error(_("messages","error_loading_calendar_list"),_("messages","error_oops")+b)});b.done(function(a){$("#calendar_list li.available_calendar").each(function(){var a=$(this).data();$("#calendar_view").fullCalendar("removeEventSource",a.eventsource);
$(this).remove()});var b=0;$.each(a,function(a,c){b++;var g=generate_calendar_entry(c);$("#calendar_list ul").append(g);$("#calendar_view").fullCalendar("addEventSource",$(g).data().eventsource)});0==b?(a=get_data("last_calendar_count"),void 0===a||"0"!=a?(set_data("last_calendar_count",0),setTimeout("update_calendar_list(false)",1)):show_error(_("messages","notice_no_calendars"),"")):(set_data("last_calendar_count",b),$("#calendar_list li.available_calendar:first").click(),adjust_calendar_names_width())})}
function generate_event_source(a){return{url:base_app_url+"caldav2json/events#"+a,cache:!1,data:{calendar:a},error:function(b){void 0!==b.status&&401==b.status?session_expired():show_error(_("messages","error_interfacefailure"),_("messages","error_loadevents",{"%cal":a}))},startParamUTC:!0,endParamUTC:!0}}
function session_refresh(a){var b=$.ajax({url:base_app_url+"js_generator/keepalive",cache:!1,method:"GET",dataType:"html"});b.done(function(b){""!==b?$("body").append(b):setTimeout("session_refresh("+a+")",a)});b.fail(function(){session_expired()})}
function add_button_icons(a){a.filter("button.addicon").removeClass("addicon").removeClass("ui-button-text-only").addClass("ui-button-text-icon-primary").each(function(a,c){var d=$(c).attr("class").split(" ");$.each(d,function(a,b){if(b.match(/^btn-icon-/))return $(c).prepend('<span class="ui-button-icon-primary ui-icon '+b+'"></span>'),$(c).removeClass(b),!1})})}
function generate_calendar_entry(a){a.color=void 0===a.color||!1===a.color?"#"+default_calendar_color:a.color.substring(0,7);var b=fg_for_bg(a.color),c=$.color.parse(a.color),c=c.scale("rgb","#000000"==b?0.8:1.8).toString(),d=$("<div></div>").addClass("calendar_color").css("background-color",a.color).css("border-color",c),d=$("<li></li>").addClass("available_calendar").attr("title",a.displayname).html('<span class="text">'+a.displayname+"</span>").prepend(d);void 0!==a.shared&&!0==a.shared&&(d.append('<span class="shared"></span>'),
d.attr("title",d.attr("title")+" (@"+a.user_from+")"));var e=generate_event_source(a.calendar);e.ignoreTimezone=!0;e.color=a.color;e.textColor=b;a.eventsource=e;e.borderColor=c;d.data(a);d.disableSelection();return d}function get_calendar_displayname(a){var b=void 0;$("#calendar_list li.available_calendar").each(function(){var c=$(this).data();if(c.calendar==a)return b=c.displayname,!1});return void 0!==b?b:event.calendar+"(?)"}
function reload_event_source(a){var b=void 0;$("#calendar_list li.available_calendar").each(function(){var c=$(this).data();if(c.calendar==a)return b=c.eventsource,!1});void 0!==b?($("#calendar_view").fullCalendar("removeEventSource",b),$("#calendar_view").fullCalendar("addEventSource",b)):show_error(_("messages","error_interfacefailure"),_("messages","error_calendarnotfound",{"%calendar":a}))}
function enforce_exclusive_recurrence_field(a,b){""==$(ced+" input."+a).val()?($(ced+" input."+b).removeAttr("disabled"),$(ced+" input."+b).removeClass("ui-state-disabled"),$(ced+' label[for="'+b+'"]').removeClass("ui-state-disabled"),"recurrence_until"==b&&$(ced+" input."+b).datepicker("enable")):($(ced+" input."+b).attr("disabled","disabled"),$(ced+" input."+b).addClass("ui-state-disabled"),$(ced+" input."+b).val(""),$(ced+' label[for="'+b+'"]').addClass("ui-state-disabled"),"recurrence_until"==
b&&$(ced+" input."+b).datepicker("disable"))}
function event_bubble_content(a){var b=$("#view_event_details_template").clone();b.find("span.calendar_value").html(get_calendar_displayname(a.calendar));void 0!==a.location?b.find("span.location_value").html(a.location):b.find("p.location").hide();b.find("span.start_value").html(a.formatted_start+" - ").end().find("span.end_value").html(a.formatted_end+"");void 0!==a.formatted_description?b.find("p.description_value").html(a.formatted_description):b.find("p.description").hide();void 0!==a.rrule?
void 0!==a.rrule_explained?b.find("div.unparseable_rrule").hide().end().find("span.rrule_explained_value").html(a.rrule_explained):b.find("div.parseable_rrule").hide().end().find("span.rrule_raw_value").html(a.rrule).end():b.find("div.unparseable_rrule").hide().end().find("div.parseable_rrule").hide();return b.html()}function timestamp(a){return Math.round(a.getTime()/1E3)}function fulldatetimestring(a){if(null!=a&&void 0!==a)return $.fullCalendar.formatDate(a,"yyyyMMddHHmmss")}
function fg_for_bg(a){a=parseInt(a.substr(1),16);return 500>(a>>>16)+(a>>>8&255)+(a&255)?"#ffffff":"#000000"}function load_i18n_strings(){var a=$.ajax({async:!1,url:base_app_url+"strings/load/"+agendav_version,dataType:"json",method:"GET",ifModified:!1});a.done(function(a){i18n=a});a.fail(function(){show_error("Error loading translation","Please, contact your system administrator")})}
function _(a,b,c){var d="["+a+":"+b+"]";if("undefined"!=typeof i18n&&("messages"==a||"labels"==a))"labels"==a&&i18n.labels[b]?d=i18n.labels[b]:"messages"==a&&i18n.messages[b]&&(d=i18n.messages[b]);for(var e in c)d=d.replace(e,c[e]);return d}function session_expired(){$(".ui-dialog-content").dialog("close");show_error(_("messages","error_sessexpired"),_("messages","error_loginagain"));setTimeout('window.location = "'+base_url+'";',2E3)}
function adjust_calendar_names_width(){$("#calendar_list li").each(function(){var a=$(this),b=a.width(),c=a.find("span.shared"),b=b-a.find("span.text").position().left+(a.outerWidth()-b);1==c.length&&(b-=c.outerWidth());a.find("span.text").width(b)})};
